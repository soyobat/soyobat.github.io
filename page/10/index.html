<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.soyorin.online","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.26.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":10,"width":280,"onmobile":true},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":"mac","show_result":true},"fold":{"enable":false,"height":500},"language":false,"highlight_theme":"night eighties"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}}</script><script src="/js/config.js" defer></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
<meta property="og:url" content="https://www.soyorin.online/page/10/index.html">
<meta property="og:site_name" content="soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="lkl">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="å­¦ä¹ ">
<meta property="article:tag" content="åšå®¢">
<meta property="article:tag" content="æ—¥å¸¸">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://www.soyorin.online/page/10/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/10/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>







  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Îµ=(Â´Î¿ï½€*)))å”‰ï¼Œå­¦Javaçš„è¿™è¾ˆå­æœ‰äº†</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li><li class="menu-item menu-item-å‹é“¾"><a href="/link/" rel="section"><i class="fas fa-link fa-fw"></i>å‹é“¾</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="æœç´¢..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="lkl"
      src="/images/boqi.jpg">
  <p class="site-author-name" itemprop="name">lkl</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">441</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">71</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/soyobat" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;soyobat" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="è¿”å›é¡¶éƒ¨">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/09/11/Codetop%E5%88%B7%E9%A2%98/%E5%93%88%E5%B8%8C%E8%A1%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/09/11/Codetop%E5%88%B7%E9%A2%98/%E5%93%88%E5%B8%8C%E8%A1%A8/" class="post-title-link" itemprop="url">å“ˆå¸Œè¡¨</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-09-11 20:34:54" itemprop="dateCreated datePublished" datetime="2025-09-11T20:34:54+08:00">2025-09-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-10-17 14:42:25" itemprop="dateModified" datetime="2025-10-17T14:42:25+08:00">2025-10-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Codetop%E5%88%B7%E9%A2%98/" itemprop="url" rel="index"><span itemprop="name">Codetopåˆ·é¢˜</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²-ğŸ”¥990-ä¸­"><a href="#æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²-ğŸ”¥990-ä¸­" class="headerlink" title="æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²[ğŸ”¥990][ä¸­]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/">æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a>[ğŸ”¥<font style="color:rgb(96, 98, 102);background-color:rgb(237, 245, 254);">990</font>][ä¸­]</h2><p>é¢˜ç›®ï¼šå°±æ˜¯ç»™ä¸€ä¸ªstrï¼Œç„¶åè®©ä½ æ‰¾åˆ°æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</p>
<p>æ€è·¯ï¼š</p>
<ol>
<li>æ•´ä½“å°±æ˜¯æ»‘åŠ¨çª—å£</li>
<li>mapæ¥å­˜å‚¨å­ä¸²çš„å­—ç¬¦çŠ¶æ€</li>
<li>r++ ,mapä¸æ–­æ›´æ–°ï¼Œmap.put()  while(map.get(xx) &gt; 1){ l++; map.put()å»æŠŠmapé‡Œçš„ä¹‹å‰çŠ¶æ€æ¶ˆæ‰ }  resä¸æ–­æ›´æ–°</li>
</ol>
<h2 id="ä¸¤æ•°ä¹‹å’Œ-ğŸ”¥285-æ˜“"><a href="#ä¸¤æ•°ä¹‹å’Œ-ğŸ”¥285-æ˜“" class="headerlink" title="ä¸¤æ•°ä¹‹å’Œ[ğŸ”¥285][æ˜“]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/two-sum"><font style="color:rgb(64, 158, 255);">ä¸¤æ•°ä¹‹å’Œ</font></a>[ğŸ”¥<font style="color:rgb(96, 98, 102);background-color:rgb(242, 246, 252);">285</font>][æ˜“]</h2><p>é¢˜ç›®ï¼šç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªtargetã€‚ç„¶åè®©ä½ å»ä»æ•°ç»„ä¸­æ‰¾åˆ°èƒ½ç»„æˆtargetçš„å…ƒç´ </p>
<p>æ€è·¯ï¼š</p>
<ol>
<li>æ•°ç»„ å…ˆå­˜ä¸€é cache set</li>
<li>éå†ä¸€éæ•°ç»„ï¼Œç„¶å cache.contains(target - curV) å¦‚æœä¸ºtrue ï¼Œå°±æ›´æ–°</li>
</ol>
<h2 id="äºŒå‰æ ‘çš„ä¸­åºéå†éé€’å½’"><a href="#äºŒå‰æ ‘çš„ä¸­åºéå†éé€’å½’" class="headerlink" title="äºŒå‰æ ‘çš„ä¸­åºéå†éé€’å½’"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-inorder-traversal"><font style="color:rgb(64, 158, 255);">äºŒå‰æ ‘çš„ä¸­åºéå†</font></a>éé€’å½’</h2><p>é¢˜ç›®ï¼šç”¨éé€’å½’çš„å½¢å¼è¾“å‡ºäºŒå‰æ ‘çš„ä¸­åºéå†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="æœ€å°è¦†ç›–å­ä¸²-ğŸ”¥114"><a href="#æœ€å°è¦†ç›–å­ä¸²-ğŸ”¥114" class="headerlink" title="æœ€å°è¦†ç›–å­ä¸²[ğŸ”¥114]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-window-substring"><font style="color:rgb(64, 158, 255);">æœ€å°è¦†ç›–å­ä¸²</font></a>[ğŸ”¥<font style="color:rgb(96, 98, 102);background-color:rgb(243, 246, 251);">114</font>]</h2><p>é¢˜ç›®ï¼šç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ã€ä¸€ä¸ªå­—ç¬¦ä¸² <code>t</code> ã€‚è¿”å› <code>s</code> ä¸­æ¶µç›– <code>t</code> æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ <code>s</code> ä¸­ä¸å­˜åœ¨æ¶µç›– <code>t</code> æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² <code>&quot;&quot;</code> ã€‚</p>
<blockquote>
<p>è¾“å…¥ï¼šs &#x3D; â€œADOBECODEBANCâ€, t &#x3D; â€œABCâ€<br>è¾“å‡ºï¼šâ€BANCâ€<br>è§£é‡Šï¼šæœ€å°è¦†ç›–å­ä¸² â€œBANCâ€ åŒ…å«æ¥è‡ªå­—ç¬¦ä¸² t çš„ â€˜Aâ€™ã€â€™Bâ€™ å’Œ â€˜Câ€™ã€‚</p>
</blockquote>
<p>æ€è·¯ï¼š</p>
<ol>
<li>æ•´ä½“è¿˜æ˜¯æ»‘åŠ¨çª—å£</li>
<li>ç»´æŠ¤ä¸€ä¸ªmapï¼Œmapä¸ºtçš„æ˜ å°„è¡¨ï¼ˆkï¼šå­—ç¬¦ï¼Œvï¼šå­—ç¬¦å‡ºç°ä¸ªæ•°ï¼‰ã€‚ä¸€ä¸ªcntï¼Œcntåˆå§‹åŒ–ä¸º tçš„å­—ç¬¦ä¸ªæ•°ï¼Œè¡¨ç¤ºè¿˜å‰©å¤šå°‘ä¸ªå­—ç¬¦å¯æ„æˆ t</li>
<li>r++ç›´åˆ°æ‰¾åˆ°äº†tçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œifxxx&gt;0ï¼Œcntâ€“ï¼Œmap[c] â€“</li>
<li>while(cnt&#x3D;&#x3D;0) å¼€å§‹æ›´æ–°ç»“æœï¼Œä¸”æŠŠæœ€å·¦è¾¹çš„ä¸œè¥¿å¼¹å‡ºå»</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">minWindow</span><span class="params">(String s, String t)</span> &#123;</span><br><span class="line">        <span class="comment">// 1. ç»Ÿè®¡ t ä¸­æ¯ä¸ªå­—ç¬¦çš„éœ€æ±‚</span></span><br><span class="line">        Map&lt;Character, Integer&gt; need = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> c : t.toCharArray()) &#123;</span><br><span class="line">            need.put(c, need.getOrDefault(c, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> t.length();      <span class="comment">// è®°å½•è¿˜ç¼ºå¤šå°‘ä¸ªå­—ç¬¦æ‰èƒ½æ»¡è¶³æ¡ä»¶</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = <span class="number">0</span>;          <span class="comment">// å·¦å³åŒæŒ‡é’ˆ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">minLen</span> <span class="operator">=</span> Integer.MAX_VALUE; <span class="comment">// æœ€å°å­ä¸²é•¿åº¦</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;           <span class="comment">// æœ€ç»ˆç»“æœ</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. æ»‘åŠ¨å³æŒ‡é’ˆï¼Œä¸æ–­æ‰©å±•çª—å£</span></span><br><span class="line">        <span class="keyword">for</span> (; r &lt; s.length(); r++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">cr</span> <span class="operator">=</span> s.charAt(r);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åªæœ‰å½“ cr åœ¨éœ€æ±‚è¡¨ need ä¸­æ—¶æ‰å¤„ç†</span></span><br><span class="line">            <span class="keyword">if</span> (need.containsKey(cr)) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœè¿˜ç¼ºè¿™ç§å­—ç¬¦ï¼Œæ»¡è¶³ä¸€ä¸ªéœ€æ±‚ â†’ cnt--</span></span><br><span class="line">                <span class="comment">// âš ï¸ æ³¨æ„ï¼šå¿…é¡»æ˜¯ need(cr) &gt; 0 æ‰ cnt--ï¼Œ</span></span><br><span class="line">                <span class="comment">// å¦åˆ™å¯èƒ½æ˜¯å†—ä½™å­—ç¬¦ï¼Œå¤šå‡ä¼šå‡ºé”™</span></span><br><span class="line">                <span class="keyword">if</span> (need.get(cr) &gt; <span class="number">0</span>) cnt--;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// ä¸ç®¡éœ€ä¸éœ€è¦ï¼Œçª—å£å¤šäº†è¿™ä¸ªå­—ç¬¦ï¼Œéƒ½è¦åœ¨ need ä¸­å‡å»</span></span><br><span class="line">                need.put(cr, need.get(cr) - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3. å½“ cnt == 0 æ—¶ï¼Œè¯´æ˜å½“å‰çª—å£å·²ç»æ»¡è¶³ t çš„éœ€æ±‚</span></span><br><span class="line">            <span class="keyword">while</span> (cnt == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// æ›´æ–°ç­”æ¡ˆï¼ˆå¦‚æœæ›´çŸ­å°±æ›´æ–°ï¼‰</span></span><br><span class="line">                <span class="keyword">if</span> (r - l + <span class="number">1</span> &lt; minLen) &#123;</span><br><span class="line">                    minLen = r - l + <span class="number">1</span>;</span><br><span class="line">                    res = s.substring(l, r + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// å°è¯•ç¼©å°å·¦è¾¹ç•Œ l</span></span><br><span class="line">                <span class="type">char</span> <span class="variable">cl</span> <span class="operator">=</span> s.charAt(l);</span><br><span class="line">                <span class="keyword">if</span> (need.containsKey(cl)) &#123;</span><br><span class="line">                    <span class="comment">// æŠŠè¿™ä¸ªå­—ç¬¦ç§»å‡ºçª—å£ï¼Œneedè¦åŠ å›å»</span></span><br><span class="line">                    need.put(cl, need.get(cl) + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// å¦‚æœåŠ å›å»å &gt; 0ï¼Œè¯´æ˜è¿™ä¸ªå­—ç¬¦ç°åœ¨åˆç¼ºäº†</span></span><br><span class="line">                    <span class="comment">// æ‰€ä»¥ cnt++ï¼Œçª—å£ä¸å†æ»¡è¶³æ¡ä»¶</span></span><br><span class="line">                    <span class="keyword">if</span> (need.get(cl) &gt; <span class="number">0</span>) cnt++;</span><br><span class="line">                &#125;</span><br><span class="line">                l++; <span class="comment">// å·¦æŒ‡é’ˆå³ç§»</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚åº¦ï¼šO Nï¼ˆs.lengthï¼‰+Mï¼ˆt.lengthï¼‰</p>
<h2 id="æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯-ğŸ”¥15-ä¸­"><a href="#æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯-ğŸ”¥15-ä¸­" class="headerlink" title="æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯[ğŸ”¥15][ä¸­]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/find-all-anagrams-in-a-string/">æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯</a>[ğŸ”¥15][ä¸­]</h2><p>é¢˜ç›®ï¼šå°±æ˜¯ç»™ä½ ä¸€ä¸ªsource,ä¸€ä¸ªtargetï¼Œç„¶åæ‰¾å‡ºsourceå­—ç¬¦ä¸²é‡Œé¢çš„åŒ…å«targetæ‰€æœ‰å­—ç¬¦çš„å­—ç¬¦å­ä¸²</p>
<p>æ€è·¯ï¼š</p>
<ol>
<li>æ•´ä½“å°±æ˜¯æ»‘åŠ¨çª—å£</li>
<li>ç„¶ååˆå§‹åŒ–ä¸€ä¸ª 26ä¸ªå­—æ¯çš„æ•°ç»„ [0 1 2 â€¦â€¦. ]</li>
<li>é•¿åº¦&lt;target.length()å°±è·³è¿‡</li>
<li>å•¥æ—¶å€™æ›´æ–°ç»“æœï¼šå½“ä¸Šé¢é‚£ä¸ªæ•°ç»„ç­‰äº targetçš„æ•°ç»„æ¨¡å¼æ—¶å°±æ›´æ–°</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">findAnagrams</span><span class="params">(String s, String p)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        <span class="type">int</span>[] target = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¼‚ä½è¯ï¼š åŒ…å«pæ‰€æœ‰å­—ç¬¦çš„ å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="type">int</span>[] cs = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> c : p.toCharArray()) &#123;</span><br><span class="line">            target[c - <span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ»‘åŠ¨çª—å£</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (; r &lt; s.length(); r++) &#123;</span><br><span class="line">            cs[s.charAt(r) - <span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">            <span class="comment">//é¦–å…ˆå¾—æ»¡è¶³é•¿åº¦æ‰èƒ½æ›´æ–°ç»“æœä¹ˆ</span></span><br><span class="line">            <span class="keyword">if</span> (r - l + <span class="number">1</span> &lt; p.length()) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//å¦‚æœæ•°ç»„å…¨ç›¸åŒå°± è¯´æ˜æ‰¾åˆ°äº†ï¼Œæ›´æ–°ç»“æœ</span></span><br><span class="line">            <span class="keyword">if</span> (Arrays.equals(cs, target)) &#123;</span><br><span class="line">                res.add(l);</span><br><span class="line">            &#125;</span><br><span class="line">            cs[s.charAt(l) - <span class="string">&#x27;a&#x27;</span>]--;</span><br><span class="line">            l++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<details class="lake-collapse"><summary id="u6f8b3cf3"><span class="ne-text">è¯„è®º</span></summary><p id="u1b807ddf" class="ne-p"><span class="ne-text">è¯„è®º</span></p><p id="uae6af527" class="ne-p"><span class="ne-text" style="color: rgb(0, 0, 0)">æœ€çƒ­</span><span class="ne-text" style="color: rgb(140, 140, 140)"> </span><span class="ne-text" style="color: rgb(140, 140, 140)">|</span><span class="ne-text" style="color: rgb(140, 140, 140)"> </span><span class="ne-text" style="color: rgb(140, 140, 140)">æœ€æ–°</span></p><p id="u8f98f3f0" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2025/png/49554152/1757595368610-866d18ee-57da-4202-953c-d3cdfb093d0b.png" width="160" id="nM5HG" class="ne-image"></p><p id="u8dbdeb6c" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 14px">puffan</span></p><p id="u7c64a1bf" class="ne-p"><span class="ne-text" style="color: rgb(191, 191, 191); font-size: 14px">2021-06-23</span></p><p id="u8764637c" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 12px">æ»‘åŠ¨çª—å£O(n)</span></p><p id="ue0a61ccb" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px"> </span><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">3</span></p><p id="ucbf4e2d3" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">æš‚æ— å›å¤</span></p><p id="u68842b44" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">å›å¤</span></p><p id="ubf7f818e" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2025/png/49554152/1757595368491-4fa85407-604c-4bd5-b5ec-902e2fc27888.png" width="160" id="RUeYe" class="ne-image"></p><p id="uaad0d60f" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 14px">ä¸€å¤©åˆ°æ™šåªä¼šåˆ·ç®—æ³•çš„ç–¯ç‹‚javaer</span></p><p id="u950cf5e6" class="ne-p"><span class="ne-text" style="color: rgb(191, 191, 191); font-size: 14px">2023-08-16</span></p><p id="udbc6fc88" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 12px">æˆ‘ç›´æ¥ä¸€ä¸ªæ»‘åŠ¨çª—å£æ»‘æ»‘æ»‘</span></p><p id="u1d15abf8" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px"> </span><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">2</span></p><p id="uadcd5525" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">æš‚æ— å›å¤</span></p><p id="u095155f6" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">å›å¤</span></p><p id="u03b46d62" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2025/jpeg/49554152/1757595365960-3292e0ca-01d1-4200-9c12-7e14c55c251d.jpeg" width="132" id="hnAaY" class="ne-image"></p><p id="u39112735" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 14px">Li</span></p><p id="u8c5377ba" class="ne-p"><span class="ne-text" style="color: rgb(191, 191, 191); font-size: 14px">2022-08-19</span></p><p id="u54bcb612" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 12px">åå­å®ä¹ æ‰‹æ’•</span></p><p id="ud21c6154" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px"> </span><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">2</span></p><p id="u33415162" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">æš‚æ— å›å¤</span></p><p id="udf7729ff" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">å›å¤</span></p><p id="ue193153e" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2025/png/49554152/1757595365972-5633cbc7-6766-4a29-8e01-82734b1f1e86.png" width="120" id="FdzNr" class="ne-image"></p><p id="u52f2ace3" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 14px">ä¼Ÿ</span></p><p id="ub8fb4055" class="ne-p"><span class="ne-text" style="color: rgb(191, 191, 191); font-size: 14px">2022-02-28</span></p><p id="u6e4da4a7" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 12px">æ»‘åŠ¨çª—å£ç®—æ³•, è·Ÿå­—ç¬¦ä¸²æ’åˆ—æ€è·¯ä¸€æ ·</span></p><p id="udcca953e" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px"> </span><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">1</span></p><p id="u3d8f7fb6" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">æš‚æ— å›å¤</span></p><p id="u0c618eb3" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">å›å¤</span></p><p id="ufe52fe38" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2025/png/49554152/1757595368663-df0e55d9-61da-4cc8-be35-a0986ea30319.png" width="160" id="uc8c33a65" class="ne-image" style="color: rgb(0, 0, 0)"></p><p id="u9d3d761b" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 14px">Thirt33n</span></p><p id="u301e2ff5" class="ne-p"><span class="ne-text" style="color: rgb(191, 191, 191); font-size: 14px">2024-07-09</span></p><p id="u9b770fb1" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 12px">å­—èŠ‚ä¸‰é¢</span></p><p id="u14fd9939" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px"> </span><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">0</span></p><p id="u30fcca5b" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">æš‚æ— å›å¤</span></p><p id="u7f214934" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">å›å¤</span></p><p id="u6e9aaa29" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2025/png/49554152/1757595367773-2fa95e05-47fd-4e00-981a-890acb5d9340.png" width="160" id="ua04381e2" class="ne-image" style="color: rgb(0, 0, 0)"></p><p id="u79ed4d98" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 14px">ç”¨æˆ·OTCHR</span></p><p id="ufd5ee884" class="ne-p"><span class="ne-text" style="color: rgb(191, 191, 191); font-size: 14px">2023-02-02</span></p><p id="u63e07120" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 12px">æ»‘åŠ¨çª—å£</span></p><p id="ua0e2efb0" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px"> </span><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">0</span></p><p id="u656408fd" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">æš‚æ— å›å¤</span></p><p id="u3446dcb7" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">å›å¤</span></p><p id="u324dbf4e" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2025/png/49554152/1757595369336-95fa2aca-544b-4e05-9b96-33df330a108e.png" width="160" id="u33f3ca58" class="ne-image" style="color: rgb(0, 0, 0)"></p><p id="ufef8e762" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 14px">å°å·å¤‡æˆ˜æ ¡æ‹›</span></p><p id="u71447c2c" class="ne-p"><span class="ne-text" style="color: rgb(191, 191, 191); font-size: 14px">2022-11-06</span></p><p id="u5e18cb59" class="ne-p"><span class="ne-text" style="color: rgb(89, 89, 89); font-size: 12px">å­—èŠ‚ä¸€é¢ï¼Œè·Ÿ567ä¸€æ ·</span></p><p id="u05a9f7e4" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px"> </span><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">0</span></p><p id="uaba07f33" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">æš‚æ— å›å¤</span></p><p id="uf22392a6" class="ne-p"><span class="ne-text" style="color: rgb(140, 140, 140); font-size: 12px">å›å¤</span></p></details>
## [<font style="color:rgb(64, 158, 255);">å’Œä¸ºKçš„å­æ•°ç»„</font>](https://leetcode.cn/problems/subarray-sum-equals-k)[ğŸ”¥<font style="color:rgb(96, 98, 102);background-color:rgb(237, 245, 255);">70</font>]
é¢˜ç›®ï¼šç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åè®©ä½ ä»é‡Œé¢æ‰¾åˆ°å’Œä¸ºkçš„å­æ•°ç»„ï¼Œå¹¶ç»Ÿè®¡ä¸ªæ•°



<p>æ€è·¯1ï¼š</p>
<ol>
<li>ç»™å‡ºå‰ç¼€å’Œ</li>
<li>è½¬åŒ–ä¸ºä¸¤æ•°ä¹‹å’Œ å³æ±‚ iï¼ˆå‰ç¼€å’Œï¼‰-kçš„å…ƒç´ æ˜¯å¦å­˜åœ¨</li>
</ol>
<p>æ€è·¯2ï¼š</p>
<ol>
<li>å°±æ˜¯mapæ–¹å¼çš„å‰ç¼€å’Œ</li>
</ol>
<p>æ€è·¯3ï¼š</p>
<ol>
<li>åŠ¨æ€è§„åˆ’</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">subarraySum</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="comment">// 1 2 3</span></span><br><span class="line">        <span class="comment">// 0 1 3 6 </span></span><br><span class="line">        <span class="comment">//1,1,1 </span></span><br><span class="line">        <span class="comment">//0 1 2 3</span></span><br><span class="line">        <span class="type">int</span> []preSum=getPreSum(nums);</span><br><span class="line">        <span class="comment">//è½¬æ¢æˆä¸¤æ•°ä¹‹å’Œäº†</span></span><br><span class="line">        <span class="comment">//k: integer v:å‡ºç°ä¸ªæ•°</span></span><br><span class="line">        Map&lt;Integer,Integer&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i:preSum)&#123;</span><br><span class="line">            <span class="comment">// iä¸ºå’Œ kä¸ºç›®æ ‡æ•°</span></span><br><span class="line">            <span class="comment">//çœ‹çœ‹æ˜¯å¦æœ‰ k+xx=i è¯´æ˜kå­˜åœ¨</span></span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(i-k))&#123;</span><br><span class="line">                res+=map.get(i-k);</span><br><span class="line">            &#125;</span><br><span class="line">            map.put(i,map.getOrDefault(i,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> []getPreSum(<span class="type">int</span> []nums)&#123;</span><br><span class="line">        <span class="type">int</span> []preSum=<span class="keyword">new</span> <span class="title class_">int</span>[nums.length+<span class="number">1</span>];</span><br><span class="line">        preSum[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=nums.length;i++)&#123;</span><br><span class="line">            preSum[i]=preSum[i-<span class="number">1</span>]+nums[i-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> preSum;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æœ€é•¿é‡å¤å­æ•°ç»„-ğŸ”¥64"><a href="#æœ€é•¿é‡å¤å­æ•°ç»„-ğŸ”¥64" class="headerlink" title="æœ€é•¿é‡å¤å­æ•°ç»„[ğŸ”¥64]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-length-of-repeated-subarray"><font style="color:rgb(64, 158, 255);">æœ€é•¿é‡å¤å­æ•°ç»„</font></a>[ğŸ”¥<font style="color:rgb(96, 98, 102);background-color:rgb(239, 246, 253);">64</font>]</h2><p>é¢˜ç›®ï¼šç»™ä¸¤ä¸ªæ•´æ•°æ•°ç»„ <code>nums1</code> å’Œ <code>nums2</code> ï¼Œè¿”å› ä¸¤ä¸ªæ•°ç»„ä¸­ å…¬å…±çš„ ã€é•¿åº¦æœ€é•¿çš„å­æ•°ç»„çš„é•¿åº¦ ã€‚</p>
<p>æ€è·¯ï¼š</p>
<ol>
<li>æ»‘åŠ¨</li>
</ol>
<h2 id="å¤åˆ¶å¸¦éšæœºæŒ‡é’ˆçš„é“¾è¡¨-ğŸ”¥58"><a href="#å¤åˆ¶å¸¦éšæœºæŒ‡é’ˆçš„é“¾è¡¨-ğŸ”¥58" class="headerlink" title="å¤åˆ¶å¸¦éšæœºæŒ‡é’ˆçš„é“¾è¡¨[ğŸ”¥58]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/copy-list-with-random-pointer"><font style="color:rgb(64, 158, 255);">å¤åˆ¶å¸¦éšæœºæŒ‡é’ˆçš„é“¾è¡¨</font></a>[ğŸ”¥58]</h2><p>é¢˜ç›®ï¼šæ‹·è´ç‰¹æ®Šé“¾è¡¨èŠ‚ç‚¹</p>
<p>æ€è·¯ï¼š</p>
<ol>
<li>æ™®é€šé“¾è¡¨åˆå§‹åŒ–</li>
<li>åˆå§‹åŒ–ä¸¤ä¸ªMAP</li>
<li>ä¸€ä¸ªè®°å½•æ—§é“¾è¡¨é‡Œ èŠ‚ç‚¹ä¸indexçš„å…³ç³»</li>
<li>ä¸€ä¸ªè®°å½•æ–°é“¾è¡¨é‡Œ indexä¸èŠ‚ç‚¹çš„å…³ç³»</li>
<li>ç”±äºæ–°æ—§èŠ‚ç‚¹ indexæ˜¯ä¸€æ ·çš„</li>
<li>æ•… æ—§é“¾è¡¨å¯ä»¥é€šè¿‡node.randomæ‹¿åˆ°è¯¥random.index</li>
<li>å†é€šè¿‡indexæ‹¿åˆ°æ–°é“¾è¡¨çš„node</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// Definition for a Node.</span></span><br><span class="line"><span class="comment">class Node &#123;</span></span><br><span class="line"><span class="comment">    int val;</span></span><br><span class="line"><span class="comment">    Node next;</span></span><br><span class="line"><span class="comment">    Node random;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Node(int val) &#123;</span></span><br><span class="line"><span class="comment">        this.val = val;</span></span><br><span class="line"><span class="comment">        this.next = null;</span></span><br><span class="line"><span class="comment">        this.random = null;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Node <span class="title function_">copyRandomList</span><span class="params">(Node head)</span> &#123;</span><br><span class="line">        <span class="comment">//æ„é€ ä¸€ä¸ªæ–°é“¾è¡¨ã€</span></span><br><span class="line">        Node node=head;</span><br><span class="line"></span><br><span class="line">        <span class="type">Node</span> <span class="variable">dummyHead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> dummyHead;</span><br><span class="line">        <span class="comment">//è®°å½•æ—§é“¾è¡¨é‡Œ èŠ‚ç‚¹ä¸indexçš„å…³ç³»</span></span><br><span class="line">        <span class="comment">//è®°å½•æ–°é“¾è¡¨é‡Œ indexä¸èŠ‚ç‚¹çš„å…³ç³»</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç”±äºæ–°æ—§èŠ‚ç‚¹ indexæ˜¯ä¸€æ ·çš„</span></span><br><span class="line">        <span class="comment">//æ•… æ—§é“¾è¡¨å¯ä»¥é€šè¿‡node.randomæ‹¿åˆ°è¯¥random.index</span></span><br><span class="line">        <span class="comment">//å†é€šè¿‡indexæ‹¿åˆ°æ–°é“¾è¡¨çš„node</span></span><br><span class="line">        Map&lt;Node,Integer&gt; nodeMap=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        Map&lt;Integer,Node&gt; indexMap=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> index=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(node!=<span class="literal">null</span>)&#123;</span><br><span class="line">            nodeMap.put(node,index);</span><br><span class="line">            node=node.next;</span><br><span class="line">            index++;</span><br><span class="line">        &#125;</span><br><span class="line">        node=head;</span><br><span class="line">        index=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(node!=<span class="literal">null</span>)&#123;</span><br><span class="line">            cur.next=<span class="keyword">new</span> <span class="title class_">Node</span>(node.val);</span><br><span class="line">            cur=cur.next;</span><br><span class="line">            node=node.next;</span><br><span class="line">            indexMap.put(index,cur);</span><br><span class="line">            index++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ„é€ Random</span></span><br><span class="line">        node=head;</span><br><span class="line">        cur=dummyHead.next;</span><br><span class="line">        <span class="keyword">while</span>(node!=<span class="literal">null</span>)&#123;</span><br><span class="line">            cur.random=indexMap.get(nodeMap.get(node.random));</span><br><span class="line">            cur=cur.next;</span><br><span class="line">            node=node.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummyHead.next;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‰-K-ä¸ªé«˜é¢‘å…ƒç´ -35"><a href="#å‰-K-ä¸ªé«˜é¢‘å…ƒç´ -35" class="headerlink" title="å‰ K ä¸ªé«˜é¢‘å…ƒç´ [35]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/top-k-frequent-elements/">å‰ K ä¸ªé«˜é¢‘å…ƒç´ </a>[35]</h2><p>æ€è·¯ï¼šhashmapç»Ÿè®¡+ä¼˜å…ˆçº§é˜Ÿåˆ—ç»´æŠ¤å‰kä¸ªé«˜é¢‘å…ƒç´ </p>
<p>æ— æ³•å•å•ç”¨TreeMapæ’åºï¼Œå› ä¸º TreeMap åªèƒ½æŒ‰ key æ’åºï¼Œä¸èƒ½ç”¨value  </p>
<p>ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼š</p>
<p>PriorityQueue</p>
<ol>
<li>mapç»Ÿè®¡ æ¬¡æ•°</li>
<li>æ„é€ æœ€å°å †ï¼Œä¸”ç»´æŠ¤æ•°é‡ä¸ºkä¸ªï¼Œå¤§äºå°±é©±é€æœ€å°çš„</li>
<li>ç„¶ååˆ°æœ€åå‰©ä¸‹çš„å°±æ˜¯å‰kä¸ªé«˜é¢‘å…ƒç´ äº†</li>
</ol>
<p>Qï¼šä¸ºä»€ä¹ˆä¸ç”¨æœ€å¤§å †ï¼Ÿ</p>
<p>Aï¼šæœ€å¤§å †ï¼Œå †é¡¶æœ€å¤§å…ƒç´ ï¼Œä½ æ€ä¹ˆé©±é€å †ä½å…ƒç´ ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] topKFrequent(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;</span><br><span class="line">        Map&lt;Integer,Integer&gt; countMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            countMap.put(num, countMap.getOrDefault(num, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°é¡¶å †ï¼Œå †é¡¶æ˜¯é¢‘ç‡æœ€å°çš„å…ƒç´ </span></span><br><span class="line">        PriorityQueue&lt;Map.Entry&lt;Integer,Integer&gt;&gt; heap = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;(</span><br><span class="line">            (a,b) -&gt; a.getValue() - b.getValue()</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;Integer,Integer&gt; entry : countMap.entrySet()) &#123;</span><br><span class="line">            heap.offer(entry);</span><br><span class="line">            <span class="keyword">if</span> (heap.size() &gt; k) &#123;</span><br><span class="line">                heap.poll(); <span class="comment">// ä¿æŒå †å¤§å°ä¸º k å¦‚æœå †çš„å…ƒç´ é‡Œè¶…è¿‡kå°±è¦é©±é€äººäº†</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> k - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            res[i] = heap.poll().getKey();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†-24"><a href="#ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†-24" class="headerlink" title="ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†[24]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/intersection-of-two-arrays/">ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†</a>[24]</h2><p>æ€è·¯ï¼šæŸ¥é‡å°±ç”¨Set æˆ–è€…Mapï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p>
<p>contains</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] intersection(<span class="type">int</span>[] nums1, <span class="type">int</span>[] nums2) &#123;</span><br><span class="line">       HashSet&lt;Integer&gt; set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">       <span class="type">int</span> length=Math.max(nums1.length,nums2.length);</span><br><span class="line">       HashSet&lt;Integer&gt; res=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> n:nums1)&#123;</span><br><span class="line">            set.add(n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æŸ¥é‡ï¼ï¼ï¼</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> n:nums2)&#123;</span><br><span class="line">            <span class="keyword">if</span>(set.contains(n))&#123;</span><br><span class="line">               res.add(n);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> []ans=<span class="keyword">new</span> <span class="title class_">int</span>[res.size()];</span><br><span class="line">        <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i:res)&#123;</span><br><span class="line">            ans[count++]=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>retainAllçš„ç”¨æ³•ï¼šæ±‚ä¸¤ä¸ªé›†åˆçš„äº¤é›†ï¼Œä¼šæŠŠéäº¤é›†çš„å…ƒç´ removeæ‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">HashSet&lt;Integer&gt; objects = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">objects.add(<span class="number">1</span>);</span><br><span class="line">objects.add(<span class="number">2</span>);</span><br><span class="line">objects.add(<span class="number">3</span>);</span><br><span class="line">ArrayList&lt;Object&gt; objects1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">objects1.add(<span class="number">1</span>);</span><br><span class="line">objects1.add(<span class="number">2</span>);</span><br><span class="line">objects1.retainAll(objects);</span><br><span class="line">System.out.println(objects1);<span class="comment">// 1 2</span></span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(89, 89, 89);">é¢è¯•å®˜ä¼šå…ˆé—®ï¼šä¸¤ä¸ªæ•°ç»„æ±‚äº¤é›†ï¼Œæ€ä¹ˆæ±‚ï¼Ÿä»¥åŠè¯´ä¸€ä¸‹æ—¶é—´å¤æ‚åº¦ï¼ˆä¸å…è®¸ä½¿ç”¨ç¼–ç¨‹è¯­è¨€è‡ªå¸¦çš„äº¤é›†åŠŸèƒ½ï¼‰ã€‚ç­”å®Œä¹‹åå†é—®ï¼šå¦‚æœä¸¤ä¸ªæ•°ç»„éƒ½æ˜¯éé€’å‡çš„ï¼Œåˆåº”è¯¥æ€ä¹ˆæ±‚ï¼Ÿæ—¶é—´å¤æ‚åº¦å¤šå°‘ï¼Ÿï¼ˆæœ¬äººäº²èº«ç»å†ï¼‰</font></p>
<p><font style="color:rgb(89, 89, 89);"></font></p>
<h2 id="ä¸‰æ•°ä¹‹å’Œ-436"><a href="#ä¸‰æ•°ä¹‹å’Œ-436" class="headerlink" title="ä¸‰æ•°ä¹‹å’Œ[436]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/3sum"><font style="color:rgb(64, 158, 255);">ä¸‰æ•°ä¹‹å’Œ</font></a>[436]</h2><p>æ€è·¯ï¼š</p>
<ol>
<li>æ’åº + ä¸‰æŒ‡é’ˆï¼ˆi   [l ,  r]ï¼‰+ Setï¼ˆè‡ªåŠ¨å»é‡ï¼‰</li>
<li>æ’åº + ä¸‰æŒ‡é’ˆ + æ‰‹åŠ¨å»é‡(å‰ªæ)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">threeSum</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="comment">//ä¸‰æŒ‡é’ˆ i ... [l r]</span></span><br><span class="line">        <span class="comment">// iæ˜¯ä¸»æŒ‡é’ˆï¼Œ lå’Œræ˜¯åŒºé—´æŒ‡é’ˆ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Set&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="comment">//æ’åº</span></span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">            <span class="comment">// i ....[l...r]</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> i + <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> n - <span class="number">1</span>;</span><br><span class="line">            <span class="comment">//å‰ªæã€‚å¦‚æœå½“å‰ å…ƒç´ ä¸ºæ­£æ•°ï¼Œè¯´æ˜æ²¡å¿…è¦å¾€ä¸‹æ‰¾äº†ï¼Œå› ä¸ºåé¢éƒ½æ˜¯æ­£æ•°äº†ï¼ˆå› ä¸ºlå’Œråœ¨içš„åé¢ï¼‰</span></span><br><span class="line">            <span class="keyword">if</span>(nums[i] &gt; <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">                        </span><br><span class="line">            <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> nums[i] + nums[l] + nums[r];</span><br><span class="line">                <span class="keyword">if</span>(sum == <span class="number">0</span>)&#123;</span><br><span class="line">                    ArrayList&lt;Integer&gt; path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">                    path.add(nums[i]);</span><br><span class="line">                    path.add(nums[l]);</span><br><span class="line">                    path.add(nums[r]);</span><br><span class="line"></span><br><span class="line">                    res.add(path);</span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">//å…¶å®æ˜¯å¯ä»¥ä¼˜åŒ–çš„ï¼Œä¸ç”¨HashSetçš„è¯</span></span><br><span class="line">                    l++;</span><br><span class="line">                    r--;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//å°äº†, å› ä¸ºæ˜¯æœ‰åºæ•°ç»„ï¼ˆä¹‹å‰æ’åºäº†ï¼‰ã€‚æ•…ç§»åŠ¨å·¦æŒ‡é’ˆï¼Œå¢å¤§æ•´ä½“sum </span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(sum &lt; <span class="number">0</span>) l++;</span><br><span class="line">                <span class="comment">//å¤§äº†ï¼Œç§»åŠ¨å³æŒ‡é’ˆï¼Œå‡å°‘æ•´ä½“sum</span></span><br><span class="line">                <span class="keyword">else</span> r--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å››æ•°ä¹‹å’Œ-21"><a href="#å››æ•°ä¹‹å’Œ-21" class="headerlink" title="å››æ•°ä¹‹å’Œ[21]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/4sum"><font style="color:rgb(64, 158, 255);">å››æ•°ä¹‹å’Œ</font></a>[21]</h2><p><font style="color:rgb(89, 89, 89);">äºŒæ•°ä¹‹å’Œï¼šå“ˆå¸Œ </font></p>
<p><font style="color:rgb(89, 89, 89);">ä¸‰æ•°ä¹‹å’Œï¼šæ’åº + åŒæŒ‡é’ˆ + å‰ªæ </font></p>
<p><font style="color:rgb(89, 89, 89);">å››æ•°ä¹‹å’Œï¼šæ’åº + åŒæŒ‡é’ˆ + å‰ªæ</font></p>
<p>æ€è·¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="O-1-æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ -18"><a href="#O-1-æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ -18" class="headerlink" title="O(1) æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ [18]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/insert-delete-getrandom-o1/">O(1) æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ </a>[<font style="color:rgb(96, 98, 102);background-color:rgb(238, 245, 254);">18</font>]</h2><p>æ€è·¯ï¼šhashMap+æ•°ç»„</p>
<p>Mapï¼škä¸ºå€¼ï¼Œvä¸ºindexï¼Œè¿™æ ·å°±å¯ä»¥containsKeyäº†ï¼Œæœç»é‡å¤insert</p>
<p>æ•°ç»„å°±æ˜¯ç”¨æ¥å­˜æ”¾å…ƒç´ çš„</p>
<p>å¹¶ä¸”ç»´æŠ¤ä¸€ä¸ªindex</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RandomizedSet</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[] nums = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">200010</span>];</span><br><span class="line">    <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">insert</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(val)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        nums[++idx] = val;</span><br><span class="line">        map.put(val, idx);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(val)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">loc</span> <span class="operator">=</span> map.remove(val);</span><br><span class="line">        <span class="keyword">if</span> (loc != idx) map.put(nums[idx], loc);</span><br><span class="line">        nums[loc] = nums[idx--];</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getRandom</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> nums[random.nextInt(idx + <span class="number">1</span>)];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(140, 140, 140);"></font></p>
<p><font style="color:rgb(140, 140, 140);"></font></p>
<h2 id="å‰Kä¸ªé«˜é¢‘å•è¯-18"><a href="#å‰Kä¸ªé«˜é¢‘å•è¯-18" class="headerlink" title="å‰Kä¸ªé«˜é¢‘å•è¯[18]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/top-k-frequent-words/">å‰Kä¸ªé«˜é¢‘å•è¯</a>[<font style="color:rgb(96, 98, 102);background-color:rgb(238, 245, 254);">18</font>]</h2><p>é¢˜ç›®ï¼š</p>
<p>ç»™å®šä¸€ä¸ªå•è¯åˆ—è¡¨ <code>words</code> å’Œä¸€ä¸ªæ•´æ•° <code>k</code> ï¼Œè¿”å›å‰ <code>k</code> ä¸ªå‡ºç°æ¬¡æ•°æœ€å¤šçš„å•è¯ã€‚</p>
<p>è¿”å›çš„ç­”æ¡ˆåº”è¯¥æŒ‰å•è¯å‡ºç°é¢‘ç‡ç”±é«˜åˆ°ä½æ’åºã€‚å¦‚æœä¸åŒçš„å•è¯æœ‰ç›¸åŒå‡ºç°é¢‘ç‡ï¼Œ æŒ‰å­—å…¸é¡ºåº æ’åºã€‚</p>
<p>çœ‹é¢˜å•Šå°¼ç›çš„</p>
<p>æ€è·¯ï¼š</p>
<ol>
<li>hashmapç»Ÿè®¡</li>
<li>æœ€å°å †ç»´æŠ¤å‰kä¸ªé«˜é¢‘å•è¯</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">topKFrequent</span><span class="params">(String[] words, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="comment">// 1. ç»Ÿè®¡è¯é¢‘</span></span><br><span class="line">        Map&lt;String, Integer&gt; freqMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">            freqMap.put(word, freqMap.getOrDefault(word, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. å°é¡¶å †ç»´æŠ¤ Top K</span></span><br><span class="line">        PriorityQueue&lt;Map.Entry&lt;String, Integer&gt;&gt; pq = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;(</span><br><span class="line">            (a, b) -&gt; &#123;</span><br><span class="line">                <span class="keyword">if</span> (!a.getValue().equals(b.getValue())) &#123;</span><br><span class="line">                    <span class="keyword">return</span> a.getValue() - b.getValue(); <span class="comment">// é¢‘ç‡å‡åº</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> b.getKey().compareTo(a.getKey()); <span class="comment">// å­—å…¸åºé™åº</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry : freqMap.entrySet()) &#123;</span><br><span class="line">            pq.offer(entry);</span><br><span class="line">            <span class="keyword">if</span> (pq.size() &gt; k) pq.poll(); <span class="comment">// ä¿è¯å †å¤§å°ä¸º K</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. ä»å †ä¸­å–å‡ºå…ƒç´ ï¼Œå€’åºè¾“å‡º</span></span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (!pq.isEmpty()) &#123;</span><br><span class="line">            res.add(<span class="number">0</span>, pq.poll().getKey());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/images/ee5171be09601c727a2290b92f289a77.png"></p>
<h2 id="167-æ‹›å¼æ‹†è§£-I-17"><a href="#167-æ‹›å¼æ‹†è§£-I-17" class="headerlink" title="167. æ‹›å¼æ‹†è§£ I[17]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/zui-chang-bu-han-zhong-fu-zi-fu-de-zi-zi-fu-chuan-lcof/">167. æ‹›å¼æ‹†è§£ I</a>[17]</h2><h2 id="æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯-17"><a href="#æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯-17" class="headerlink" title="æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯[17]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/valid-anagram/">æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯</a>[<font style="color:rgb(96, 98, 102);background-color:rgb(245, 247, 250);">17</font>]</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isAnagram</span><span class="params">(String s, String t)</span> &#123;</span><br><span class="line">        <span class="type">int</span> [] cntS =<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="type">int</span> [] cntT =<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c: s.toCharArray())&#123;</span><br><span class="line">            cntS[c-<span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c: t.toCharArray())&#123;</span><br><span class="line">            cntT[c-<span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Arrays.equals(cntS,cntT);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="ç –å¢™"><a href="#ç –å¢™" class="headerlink" title="ç –å¢™"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/brick-wall"><font style="color:rgb(64, 158, 255);">ç –å¢™</font></a></h2><h2 id="è¿ç»­æ•°ç»„"><a href="#è¿ç»­æ•°ç»„" class="headerlink" title="è¿ç»­æ•°ç»„"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/contiguous-array/">è¿ç»­æ•°ç»„</a></h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/09/11/Codetop%E5%88%B7%E9%A2%98/%E5%AD%97%E7%AC%A6%E4%B8%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/09/11/Codetop%E5%88%B7%E9%A2%98/%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="post-title-link" itemprop="url">å­—ç¬¦ä¸²</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-09-11 20:34:49" itemprop="dateCreated datePublished" datetime="2025-09-11T20:34:49+08:00">2025-09-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-10-11 19:57:56" itemprop="dateModified" datetime="2025-10-11T19:57:56+08:00">2025-10-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Codetop%E5%88%B7%E9%A2%98/" itemprop="url" rel="index"><span itemprop="name">Codetopåˆ·é¢˜</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="æœ€é•¿å›æ–‡å­ä¸²"><a href="#æœ€é•¿å›æ–‡å­ä¸²" class="headerlink" title="æœ€é•¿å›æ–‡å­ä¸²"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/longest-palindromic-substring/">æœ€é•¿å›æ–‡å­ä¸²</a></h2><p>æ€è·¯ï¼šè§ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">//å·¦è¾¹ç•Œ</span></span><br><span class="line">        <span class="type">int</span> resL=<span class="number">0</span>;</span><br><span class="line">        <span class="comment">//å³è¾¹ç•Œ</span></span><br><span class="line">        <span class="type">int</span> resR=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">            <span class="comment">//æœ‰ä¸¤ç§æƒ…å†µï¼š1ä¸ºä¸€ä¸ªä¸­å¿ƒç‚¹ 2ä¸ºä¸¤ä¸ªä¸­å¿ƒç‚¹</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=<span class="number">1</span>;j++)&#123;</span><br><span class="line">                <span class="type">int</span> l=i;</span><br><span class="line">                <span class="type">int</span> r=i+j;</span><br><span class="line">                <span class="comment">//ä¸¤è¾¹æ‰©å¼ </span></span><br><span class="line">                <span class="keyword">while</span>(l&gt;=<span class="number">0</span>&amp;&amp;r&lt;s.length()&amp;&amp;s.charAt(l)==s.charAt(r))&#123;</span><br><span class="line">                    l--;</span><br><span class="line">                    r++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//å›åˆ°æ­£ç¡®çš„ä½ç½®</span></span><br><span class="line">                l++;</span><br><span class="line">                r--;</span><br><span class="line">                <span class="keyword">if</span>(r-l&gt;resR-resL)&#123;</span><br><span class="line">                    resL=l;</span><br><span class="line">                    resR=r;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s.substring(resL,resR+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æœ‰æ•ˆçš„æ‹¬å·"><a href="#æœ‰æ•ˆçš„æ‹¬å·" class="headerlink" title="æœ‰æ•ˆçš„æ‹¬å·"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/valid-parentheses"><font style="color:rgb(64, 158, 255);">æœ‰æ•ˆçš„æ‹¬å·</font></a></h2><p>æ€è·¯ï¼š</p>
<ol>
<li>é‡åˆ°å³æ‹¬å·å…¥æ ˆï¼Œé‡åˆ°å·¦æ‹¬å·åˆ™ä¸æ ˆé¡¶æ¯”è¾ƒ</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        Stack&lt;Character&gt; stack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c:s.toCharArray())&#123;</span><br><span class="line">            <span class="keyword">if</span>(c==<span class="string">&#x27;[&#x27;</span>||c==<span class="string">&#x27;&#123;&#x27;</span>||c==<span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">              stack.add(c);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(!stack.isEmpty()&amp;&amp;equals(stack.peek(),c))&#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¸ºä»€ä¹ˆä¸ç›´æ¥è¿”å› true </span></span><br><span class="line">        <span class="comment">//&quot;[&quot; è¿™ç§æƒ…å†µå°±å¾—åˆ¤Stackæ˜¯å¦ä¸ºç©º</span></span><br><span class="line">        <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(<span class="type">char</span> a,<span class="type">char</span> b)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a==<span class="string">&#x27;[&#x27;</span>&amp;&amp;b==<span class="string">&#x27;]&#x27;</span>)&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a==<span class="string">&#x27;&#123;&#x27;</span>&amp;&amp;b==<span class="string">&#x27;&#125;&#x27;</span>)&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a==<span class="string">&#x27;(&#x27;</span>&amp;&amp;b==<span class="string">&#x27;)&#x27;</span>)&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å­—ç¬¦ä¸²ç›¸åŠ "><a href="#å­—ç¬¦ä¸²ç›¸åŠ " class="headerlink" title="å­—ç¬¦ä¸²ç›¸åŠ "></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/add-strings/">å­—ç¬¦ä¸²ç›¸åŠ </a></h2><p>é¢˜ç›®ï¼šå¤§æ•°ç›¸åŠ </p>
<p>æ€è·¯ï¼š</p>
<ol>
<li><strong>å€’åºç›¸åŠ </strong>ï¼Œp1,p2ä»åé¢éå†å­—ç¬¦ä¸²ï¼Œç„¶åat(p1) å’Œ at(p2) è¿›è¡Œç›¸åŠ ï¼Œè‹¥p1 or p2 &lt;0 å°±at(p) &#x3D;0</li>
<li>ç›¸åŠ è¿‡ç¨‹ï¼šsum &#x3D; at(p1) +at(p2) + posï¼ˆä¸Šä¸€æ¬¡è¿ç®—è¿›çš„ä½ï¼‰ï¼Œç„¶åå½“å‰ä½ç½®çš„ç›¸åŠ åçš„å€¼ &#x3D; sum%10ï¼Œä¸‹ä¸€æ¬¡è¿›ä½ sum&#x2F;10</li>
<li>åé¢å¦‚æœå‡ºç° 9+1è¿™è¾¹ï¼Œwhileç»“æŸå if(pos &gt; 1) append(1)</li>
<li>æœ€åç»“æœå€’ç½® reverse()</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">addStrings</span><span class="params">(String num1, String num2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> p1=num1.length()-<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> p2=num2.length()-<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> pos=<span class="number">0</span>;</span><br><span class="line">        StringBuilder res=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">while</span>(p1&gt;=<span class="number">0</span>||p2&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="type">int</span> n1=p1&gt;=<span class="number">0</span>?num1.charAt(p1)-<span class="string">&#x27;0&#x27;</span>:<span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> n2=p2&gt;=<span class="number">0</span>?num2.charAt(p2)-<span class="string">&#x27;0&#x27;</span>:<span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> sum=n1+n2+pos;</span><br><span class="line">            res.append(sum%<span class="number">10</span>);</span><br><span class="line">            pos=(sum)/<span class="number">10</span>;</span><br><span class="line">            p1--;</span><br><span class="line">            p2--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(pos&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            res.append(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤§æ•°ç›¸å‡è¦æ€ä¹ˆåšï¼Ÿæˆ–è€…è¯´num1 ä¸ºè´Ÿæ•°å‘¢</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å¤åŸIPåœ°å€"><a href="#å¤åŸIPåœ°å€" class="headerlink" title="å¤åŸIPåœ°å€"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/restore-ip-addresses"><font style="color:rgb(64, 158, 255);">å¤åŸIPåœ°å€</font></a></h2><p>æ€è·¯ï¼š</p>
<ol>
<li>ç¬¬ä¸€æ­¥è¦è¦æ€è€ƒï¼Œå½“ä¸‹æœ‰å‡ ç§é€‰æ‹©ï¼Ÿ<ul>
<li>ä»¥ â€œ25525511135â€ ä¸ºä¾‹ï¼Œç¬¬ä¸€æ­¥æ—¶æˆ‘ä»¬æœ‰å‡ ç§é€‰æ‹©ï¼Ÿ<ol>
<li>é€‰ â€œ2â€ ä½œä¸ºç¬¬ä¸€ä¸ªç‰‡æ®µ</li>
<li>é€‰ â€œ25â€ ä½œä¸ºç¬¬ä¸€ä¸ªç‰‡æ®µ</li>
<li>é€‰ â€œ255â€ ä½œä¸ºç¬¬ä¸€ä¸ªç‰‡æ®µ</li>
</ol>
</li>
</ul>
<ol>
<li>ç„¶åç¬¬äºŒæ­¥çš„æ—¶å€™æˆ‘ä»¬åˆæœ‰å‡ ç§é€‰æ‹©ï¼Œ<font style="color:rgb(255, 255, 255);background-color:rgb(15, 15, 15);">åˆ‡ç¬¬äºŒä¸ªç‰‡æ®µæ—¶ï¼Œåˆé¢ä¸´ä¸‰ç§é€‰æ‹©</font></li>
<li>è¿™ä¼šå‘ä¸‹åˆ†æ”¯ï¼Œå½¢æˆä¸€æ£µæ ‘ï¼Œæˆ‘ä»¬ç”¨ DFS å»éå†æ‰€æœ‰é€‰æ‹©ï¼Œå¿…è¦æ—¶æå‰å›æº¯ã€‚</li>
</ol>
</li>
</ol>
<p>å› ä¸ºæŸä¸€æ­¥çš„é€‰æ‹©å¯èƒ½æ˜¯é”™çš„ï¼Œå¾—ä¸åˆ°æ­£ç¡®çš„ç»“æœï¼Œä¸è¦å¾€ä¸‹åšäº†ã€‚æ’¤é”€æœ€åä¸€ä¸ªé€‰æ‹©ï¼Œå›åˆ°é€‰æ‹©å‰çš„çŠ¶æ€ï¼Œå»è¯•å¦ä¸€ä¸ªé€‰æ‹©ã€‚</p>
<p>å›æº¯çš„ç¬¬ä¸€ä¸ªè¦ç‚¹ï¼šé€‰æ‹©ï¼Œå®ƒå±•å¼€äº†ä¸€é¢—ç©ºé—´æ ‘ã€‚</p>
<ol start="2">
<li>ç¬¬äºŒæ­¥æ€è€ƒï¼Œæœ‰ä»€ä¹ˆçº¦æŸ</li>
</ol>
<p>çº¦æŸæ¡ä»¶é™åˆ¶äº†å½“å‰çš„é€‰é¡¹ï¼Œè¿™é“é¢˜çš„çº¦æŸæ¡ä»¶æ˜¯ï¼š</p>
<p>ä¸èƒ½æœ‰å‰å¯¼0ï¼Œæˆªå–çš„å­—ç¬¦ä¸²ä¸èƒ½æ¯”255å¤§ï¼Œå­—ç¬¦ä¸²æˆªå–é•¿åº¦ä¸º1-3</p>
<p>æˆ‘ä»¬åº”è¯¥åˆ©ç”¨è¿™äº›çº¦æŸæ¡ä»¶ï¼Œå¯¹å…¶è¿›è¡Œå‰ªæã€‚</p>
<ul>
<li><font style="color:rgb(255, 255, 255);background-color:rgb(15, 15, 15);">ç”¨è¿™äº›çº¦æŸè¿›è¡Œå……åˆ†åœ°å‰ªæï¼Œå»æ‰ä¸€äº›é€‰æ‹©ï¼Œé¿å…æœç´¢ã€Œä¸ä¼šäº§ç”Ÿæ­£ç¡®ç­”æ¡ˆã€çš„åˆ†æ”¯ã€‚</font></li>
</ul>
<ol start="3">
<li>ç¬¬ä¸‰éƒ¨æ€è€ƒï¼Œç›®æ ‡æ˜¯ä»€ä¹ˆ<br>ä»€ä¹ˆæ—¶å€™åº”è¯¥æ”¶é›†ç»“æœ</li>
<li>å®šä¹‰dfså‡½æ•°</li>
</ol>
<p><img src="/images/be54116e2152969c1e0095b97ba9bf6e.png"></p>
<p>returnçš„ä½œç”¨æ˜¯é€€å›ä¸Šä¸€ä¸ªé€‰æ‹©ç‚¹ï¼ï¼ï¼  </p>
<font style="color:rgb(255, 255, 255);background-color:rgb(15, 15, 15);">  
</font>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    List&lt;String&gt; path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">restoreIpAddresses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        n = s.length();</span><br><span class="line">        dfs(s, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æˆ‘ä»¬ç¬¬ä¸€æ­¥é¢ä¸´å‡ ä¸ªé€‰æ‹©.</span></span><br><span class="line">    <span class="comment">// 1.é€‰ä¸€ä¸ª</span></span><br><span class="line">    <span class="comment">// 2.é€‰ä¸¤ä¸ª</span></span><br><span class="line">    <span class="comment">// 3.é€‰ä¸‰ä¸ª</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(String s, <span class="type">int</span> start)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (start == n &amp;&amp; path.size() == <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            <span class="keyword">for</span> (String ss : path) &#123;</span><br><span class="line">                sb.append(ss);</span><br><span class="line">                sb.append(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            sb.deleteCharAt(sb.length() - <span class="number">1</span>);</span><br><span class="line">            res.add(sb.toString());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//èµ°åˆ°åº•ï¼Œå‘ç°æ¯ä¸€ä¸ªé€‰æ‹©éƒ½æ˜¯åˆç†ï¼Œä½†æ•´ä½“é€‰æ‹©å°±æ˜¯é”™è¯¯çš„äº†</span></span><br><span class="line">        <span class="comment">//çºµå‘å‰ªæ</span></span><br><span class="line">        <span class="comment">//å¦‚ï¼šsï¼š123454 path:[1,2,3,4]</span></span><br><span class="line">        <span class="keyword">if</span> (start &lt; n &amp;&amp; path.size() == <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">1</span>; len &lt;= <span class="number">3</span>; len++) &#123;</span><br><span class="line">            <span class="comment">//åˆ é™¤ä¸åˆæ³•çš„å‰å¯¼0</span></span><br><span class="line">            <span class="comment">// len &gt; 1 æ‰ä¼šå¯èƒ½ä¸åˆæ³•ï¼š 01 022</span></span><br><span class="line">            <span class="comment">//æ¨ªå‘å‰ªè¾‘</span></span><br><span class="line">            <span class="keyword">if</span> (len != <span class="number">1</span> &amp;&amp; s.charAt(start) == <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">//returnçš„ä½œç”¨æ˜¯é€€å›ä¸Šä¸€ä¸ªé€‰æ‹©ç‚¹ï¼ï¼ï¼</span></span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//ä¿è¯åç»­s.substring() åˆæ³•</span></span><br><span class="line">            <span class="keyword">if</span> (start + len - <span class="number">1</span> &gt;= n) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">String</span> <span class="variable">t</span> <span class="operator">=</span> s.substring(start, start + len);</span><br><span class="line">            <span class="comment">//æˆªå–å å¤§å°ä¸èƒ½è¶…è¿‡255</span></span><br><span class="line">            <span class="keyword">if</span> (len == <span class="number">3</span> &amp;&amp; Integer.parseInt(t) &gt; <span class="number">255</span>)</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            path.add(t);</span><br><span class="line">            dfs(s, start + len);</span><br><span class="line">            path.remove(path.size() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ¯”è¾ƒç‰ˆæœ¬å·"><a href="#æ¯”è¾ƒç‰ˆæœ¬å·" class="headerlink" title="æ¯”è¾ƒç‰ˆæœ¬å·"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/compare-version-numbers/">æ¯”è¾ƒç‰ˆæœ¬å·</a></h2><p>æ€è·¯ï¼š</p>
<ol>
<li>åˆ†æ ¼Stringï¼Œç”¨splitï¼Œå¾—åˆ°string []s</li>
<li>å–ä¸¤ä¸ªstræ•°ç»„[] ï¼Œmark version</li>
<li>å°†sé‡Œçš„å€¼è£…æˆIntegeræ¯”è¾ƒ</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareVersion</span><span class="params">(String version1, String version2)</span> &#123;</span><br><span class="line">        String[] s1 = version1.split(<span class="string">&quot;\\.&quot;</span>);</span><br><span class="line">        String[] s2 = version2.split(<span class="string">&quot;\\.&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> s1.length &gt; s2.length ? s1.length : s2.length;</span><br><span class="line">        String[] ss1 = <span class="keyword">new</span> <span class="title class_">String</span>[length];</span><br><span class="line">        String[] ss2 = <span class="keyword">new</span> <span class="title class_">String</span>[length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s1.length; i++) &#123;</span><br><span class="line">            ss1[i] = s1[i];</span><br><span class="line">            <span class="keyword">if</span> (i == s1.length - <span class="number">1</span>) &#123;</span><br><span class="line">                i++;</span><br><span class="line">                <span class="keyword">while</span> (i &lt; length) &#123;</span><br><span class="line">                    ss1[i] = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            ss2[i] = s2[i];</span><br><span class="line">            <span class="keyword">if</span> (i == s2.length - <span class="number">1</span>) &#123;</span><br><span class="line">                i++;</span><br><span class="line">                <span class="keyword">while</span> (i &lt; length) &#123;</span><br><span class="line">                    ss2[i] = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Arrays.toString(ss1));</span><br><span class="line">        System.out.println(Arrays.toString(ss2));</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (Integer.parseInt(ss1[i]) &gt; Integer.parseInt(ss2[i])) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (Integer.parseInt(ss1[i]) &lt; Integer.parseInt(ss2[i])) &#123;</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å­—èŠ‚2é¢æ—¶å€™é‡åˆ°è¿‡ï¼Œä¸è®©ç”¨å·²çŸ¥æ–¹æ³•ï¼ˆjavaé‡ŒString#split æ–¹æ³•ï¼‰ï¼Œä¸è®©åˆ†å‰²æˆStringæ•°ç»„ï¼Œå¯ä»¥è¯•ç€è‡ªå·±æ‰‹å†™ä¸€ä¸ªåŒæŒ‡é’ˆçš„æ–¹æ³•</p>
<h2 id="æ‹¬å·ç”Ÿæˆ-137"><a href="#æ‹¬å·ç”Ÿæˆ-137" class="headerlink" title="æ‹¬å·ç”Ÿæˆ[137]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/generate-parentheses"><font style="color:rgb(64, 158, 255);">æ‹¬å·ç”Ÿæˆ</font></a>[<font style="color:rgb(96, 98, 102);background-color:rgb(245, 247, 250);">137</font>]</h2><p>æ€è·¯ï¼š</p>
<ol>
<li>å…ˆæŠŠæ ‘å›¾ç»™åˆ—ä¸¾å‡ºæ¥ï¼Œæ€è€ƒé€‰æ‹©ï¼ˆåŠ å³æ‹¬å·è¿˜æ˜¯å·¦æ‹¬å·ï¼‰ï¼Œçº¦æŸï¼Œç›®æ ‡</li>
<li>å›æº¯å±æ€§ï¼Œpathä½œä¸ºå‚æ•°æ¥è¯´ï¼Œreturnæ—¶åªå¸¦æ¢å¤ç°åœºã€‚è€Œä¸æ˜¯åƒå…¨å±€å±æ€§ä¸€æ ·ï¼ˆå¦‚ä¸‹ä¸‹ï¼‰ï¼Œå¾—æ‰‹åŠ¨æ¢å¤ç°åœº</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">generateParenthesis</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        dfs(<span class="number">0</span>, <span class="number">0</span>, n, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> lcnt, <span class="type">int</span> rcnt, <span class="type">int</span> n, String path)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (lcnt + rcnt == <span class="number">2</span> * n) &#123;</span><br><span class="line">            res.add(path.toString());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//&quot;) xxxx&quot; è‚¯å®šä¸åˆæ³•</span></span><br><span class="line">        <span class="keyword">if</span> (path.length() == <span class="number">1</span> &amp;&amp; path.charAt(<span class="number">0</span>) == <span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">//åˆæ³•çš„æ‹¬å·ï¼Œlcntçš„å¤§å°è‚¯å®šæ˜¯å¾—ç­‰äºn</span></span><br><span class="line">        <span class="keyword">if</span> (lcnt &lt; n) &#123;</span><br><span class="line">            <span class="comment">// System.out.println(&quot;L&quot;);</span></span><br><span class="line">            <span class="comment">// System.out.println(path);</span></span><br><span class="line">            dfs(lcnt + <span class="number">1</span>, rcnt, n, path + <span class="string">&quot;(&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åªæœ‰å½“å‰ä½ç½®ï¼š lcnt&gt;rcnt,æ‰å¯ä»¥åŠ &quot;)&quot;egï¼š ((() </span></span><br><span class="line">        <span class="keyword">if</span> (rcnt &lt; lcnt) &#123;</span><br><span class="line">            <span class="comment">// System.out.println(&quot;R&quot;);</span></span><br><span class="line">            <span class="comment">// System.out.println(path);</span></span><br><span class="line">            dfs(lcnt, rcnt + <span class="number">1</span>, n, path + <span class="string">&quot;)&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¨å±€å±æ€§path</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">generateParenthesis</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        dfs(<span class="number">0</span>, <span class="number">0</span>, n);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> lcnt, <span class="type">int</span> rcnt, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (lcnt + rcnt == <span class="number">2</span> * n) &#123;</span><br><span class="line">            res.add(sb.toString());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//åˆæ³•çš„æ‹¬å·ï¼Œlcntçš„å¤§å°è‚¯å®šæ˜¯å¾—ç­‰äºn</span></span><br><span class="line">        <span class="keyword">if</span> (lcnt &lt; n) &#123;</span><br><span class="line">            sb.append(<span class="string">&quot;(&quot;</span>);</span><br><span class="line">            dfs(lcnt + <span class="number">1</span>, rcnt, n);</span><br><span class="line">            sb.deleteCharAt(sb.length()-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åªæœ‰å½“å‰ä½ç½®ï¼š lcnt&gt;rcnt,æ‰å¯ä»¥åŠ &quot;)&quot;egï¼š ((() </span></span><br><span class="line">        <span class="keyword">if</span> (rcnt &lt; lcnt) &#123;</span><br><span class="line">            sb.append(<span class="string">&quot;)&quot;</span>);</span><br><span class="line">            dfs(lcnt, rcnt + <span class="number">1</span>, n);</span><br><span class="line">            sb.deleteCharAt(sb.length()-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/images/646ecae6e32bc591e786c73a655b83d9.png"><font style="color:rgb(140, 140, 140);"><br></font></p>
<h2 id="å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°-atoi"><a href="#å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°-atoi" class="headerlink" title="å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/string-to-integer-atoi/"><font style="color:rgb(10, 132, 255);">å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)</font></a></h2><h2 id="æœ€é•¿æœ‰æ•ˆæ‹¬å·"><a href="#æœ€é•¿æœ‰æ•ˆæ‹¬å·" class="headerlink" title="æœ€é•¿æœ‰æ•ˆæ‹¬å·"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/longest-valid-parentheses/">æœ€é•¿æœ‰æ•ˆæ‹¬å·</a></h2><p>æ€è·¯ï¼š</p>
<ol>
<li>æ‰¾åˆ°åŒ¹é…æ‹¬å·çš„ä¸‹æ ‡ï¼Œç„¶åå­˜è¿›ä¸€ä¸ªLIst</li>
<li>æ¥ä¸‹æ¥å°±æ˜¯è½¬æ¢æˆ å¯»æ‰¾æœ€é•¿è¿ç»­å­åºåˆ—<ol>
<li>ä¸¤ç§åšæ³•ï¼šæ’åºåæ»‘åŠ¨çª—å£ï¼Œæ—¶é—´å¤æ‚åº¦Oï¼ˆNlogNï¼‰</li>
<li>hashsetï¼Œæ—¶é—´å¤æ‚åº¦Oï¼ˆNï¼‰</li>
</ol>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestValidParentheses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; indexList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        Stack&lt;Integer&gt; st = <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i) == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                st.add(i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i) == <span class="string">&#x27;)&#x27;</span> &amp;&amp; st.size() != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> st.pop();</span><br><span class="line">                indexList.add(i);</span><br><span class="line">                indexList.add(index);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.sort(indexList);</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//æ‰¾å‡ºè¯¥æ•°ç»„çš„æœ€é•¿è¿ç»­æ•°åˆ—çš„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">for</span> (; r &lt; indexList.size(); r++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (indexList.get(r) != indexList.get(r-<span class="number">1</span>) + <span class="number">1</span>) &#123;</span><br><span class="line">                l = r;</span><br><span class="line">            &#125;</span><br><span class="line">            res = Math.max(res, r - l + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestValidParentheses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; indexList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        Stack&lt;Integer&gt; st = <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i) == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                st.add(i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i) == <span class="string">&#x27;)&#x27;</span> &amp;&amp; st.size() != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> st.pop();</span><br><span class="line">                indexList.add(i);</span><br><span class="line">                indexList.add(index);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(indexList);</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// int l = 0;</span></span><br><span class="line">        <span class="comment">// int r = 1;</span></span><br><span class="line">        <span class="comment">//æ‰¾å‡ºè¯¥æ•°ç»„çš„æœ€é•¿è¿ç»­æ•°åˆ—çš„é•¿åº¦</span></span><br><span class="line">        <span class="comment">// for (; r &lt; indexList.size(); r++) &#123;</span></span><br><span class="line">        <span class="comment">//     if (indexList.get(r) != indexList.get(r-1) + 1) &#123;</span></span><br><span class="line">        <span class="comment">//         l = r;</span></span><br><span class="line">        <span class="comment">//     &#125;</span></span><br><span class="line">        <span class="comment">//     res = Math.max(res, r - l + 1);</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="comment">// return res;</span></span><br><span class="line">        <span class="comment">//æœ€é•¿è¿ç»­å­åºåˆ—</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x: set)&#123;</span><br><span class="line">            <span class="keyword">if</span>(set.contains(x-<span class="number">1</span>))&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">nextX</span> <span class="operator">=</span> x+<span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">cnt</span>  <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(set.contains(nextX))&#123;</span><br><span class="line">                nextX++;</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">            res = Math.max(res,cnt);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å­—ç¬¦ä¸²ç›¸ä¹˜-116"><a href="#å­—ç¬¦ä¸²ç›¸ä¹˜-116" class="headerlink" title="å­—ç¬¦ä¸²ç›¸ä¹˜[116]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/multiply-strings/">å­—ç¬¦ä¸²ç›¸ä¹˜</a>[<font style="color:rgb(96, 98, 102);background-color:rgb(242, 246, 252);">116</font>]</h2><p>æ€è·¯ï¼š</p>
<ol>
<li>ç›´æ¥èƒŒè¯µï¼Œdebugä¸€éä¹Ÿè¡Œ</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">multiply</span><span class="params">(String num1, String num2)</span> &#123;</span><br><span class="line">        <span class="comment">// ç‰¹æ®Šæƒ…å†µï¼šæœ‰ä¸€ä¸ªæ•°ä¸º0ï¼Œç»“æœç›´æ¥æ˜¯0</span></span><br><span class="line">        <span class="keyword">if</span> (num1.equals(<span class="string">&quot;0&quot;</span>) || num2.equals(<span class="string">&quot;0&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç”¨æ•°ç»„ä¿å­˜ç»“æœï¼Œæœ€å¤§é•¿åº¦ = num1é•¿åº¦ + num2é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[num1.length() + num2.length()];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä»åå¾€å‰æ¨¡æ‹Ÿç«–å¼ç›¸ä¹˜</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> num1.length() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> num1.charAt(i) - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> num2.length() - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> num2.charAt(j) - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// res[i+j+1] å­˜æ”¾å½“å‰ä½çš„ç»“æœï¼ˆä¸ªä½ï¼‰</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> res[i + j + <span class="number">1</span>] + n1 * n2;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// æ›´æ–°ä¸ªä½</span></span><br><span class="line">                res[i + j + <span class="number">1</span>] = sum % <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// æ›´æ–°è¿›ä½ï¼ˆåŠ åˆ°å‰ä¸€ä½ï¼‰</span></span><br><span class="line">                res[i + j] += sum / <span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ„å»ºå­—ç¬¦ä¸²ç»“æœï¼Œå»æ‰æœ€é«˜ä½å¯èƒ½çš„0</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; res.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; res[i] == <span class="number">0</span>) <span class="keyword">continue</span>; <span class="comment">// è·³è¿‡å‰å¯¼0</span></span><br><span class="line">            result.append(res[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="æœ€å°è¦†ç›–å­ä¸²"><a href="#æœ€å°è¦†ç›–å­ä¸²" class="headerlink" title="æœ€å°è¦†ç›–å­ä¸²"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-window-substring"><font style="color:rgb(64, 158, 255);">æœ€å°è¦†ç›–å­ä¸²</font></a></h2><p>é¢˜ç›®ï¼š</p>
<p>æ€è·¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">minWindow</span><span class="params">(String s, String t)</span> &#123;</span><br><span class="line">        <span class="comment">// 1. æ„å»ºç›®æ ‡å­—ç¬¦è¡¨ï¼šç»Ÿè®¡ t ä¸­æ¯ä¸ªå­—ç¬¦éœ€è¦çš„æ•°é‡</span></span><br><span class="line">        Map&lt;Character, Integer&gt; target = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// è¿˜å·®å¤šå°‘ä¸ªå­—ç¬¦æ²¡æœ‰è¢«çª—å£è¦†ç›–</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> c : t.toCharArray()) &#123;</span><br><span class="line">            target.put(c, target.getOrDefault(c, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">            cnt++; <span class="comment">// t æ¯æœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œå°±å¤šéœ€è¦ä¸€ä¸ª</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. å®šä¹‰æ»‘åŠ¨çª—å£çš„å·¦å³è¾¹ç•Œ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;              <span class="comment">// è®°å½•æœ€ç»ˆç»“æœ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> Integer.MAX_VALUE; <span class="comment">// è®°å½•æœ€å°çª—å£å¤§å°</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. æ»‘åŠ¨å³æŒ‡é’ˆï¼Œæ‰©å¤§çª—å£</span></span><br><span class="line">        <span class="keyword">for</span> (; r &lt; s.length(); r++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">cr</span> <span class="operator">=</span> s.charAt(r);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¦‚æœå³æŒ‡é’ˆçš„å­—ç¬¦ä¸æ˜¯ç›®æ ‡å­—ç¬¦ï¼Œç›´æ¥è·³è¿‡</span></span><br><span class="line">            <span class="keyword">if</span> (!target.containsKey(cr)) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¦‚æœ cr ä»æ˜¯éœ€è¦çš„å­—ç¬¦ï¼Œå°±è®© cnt--ï¼ˆç¼ºå°‘çš„å­—ç¬¦æ•°å‡å°‘ï¼‰</span></span><br><span class="line">            <span class="keyword">if</span> (target.get(cr) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                cnt--;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æŠŠè¯¥å­—ç¬¦çš„éœ€æ±‚æ•°å‡ä¸€ï¼ˆå¯èƒ½å‡ºç°è´Ÿæ•°ï¼Œè¡¨ç¤ºâ€œå¤šå‡ºæ¥çš„â€ï¼‰</span></span><br><span class="line">            target.put(cr, target.get(cr) - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4. å½“ cnt == 0 æ—¶ï¼Œè¯´æ˜çª—å£å·²ç»åŒ…å«äº† t çš„æ‰€æœ‰å­—ç¬¦</span></span><br><span class="line">            <span class="keyword">while</span> (cnt == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// æ›´æ–°ç»“æœï¼šè‹¥å½“å‰çª—å£æ›´å°ï¼Œåˆ™æ›¿æ¢</span></span><br><span class="line">                <span class="keyword">if</span> (size &gt; r - l + <span class="number">1</span>) &#123;</span><br><span class="line">                    size = r - l + <span class="number">1</span>;</span><br><span class="line">                    res = s.substring(l, r + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 5. æ”¶ç¼©å·¦æŒ‡é’ˆï¼Œå°è¯•ç¼©å°çª—å£</span></span><br><span class="line">                <span class="type">char</span> <span class="variable">lc</span> <span class="operator">=</span> s.charAt(l);</span><br><span class="line">                <span class="keyword">if</span> (target.containsKey(lc)) &#123;</span><br><span class="line">                    <span class="comment">// æŠŠå·¦è¾¹çš„å­—ç¬¦â€œå½’è¿˜â€ç»™ target</span></span><br><span class="line">                    target.put(lc, target.get(lc) + <span class="number">1</span>);</span><br><span class="line">                    <span class="comment">// å¦‚æœå½’è¿˜åéœ€æ±‚é‡ &gt; 0ï¼Œè¯´æ˜çª—å£ä¸å†æ»¡è¶³æ¡ä»¶</span></span><br><span class="line">                    <span class="keyword">if</span> (target.get(lc) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                        cnt++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                l++; <span class="comment">// å·¦æŒ‡é’ˆå³ç§»ï¼Œç¼©å°çª—å£</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯"><a href="#åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯" class="headerlink" title="åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-words-in-a-string/">åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯</a></h2><p>æ€è·¯ï¼š</p>
<ol>
<li>å…ˆæŠŠæ‰€æœ‰å•è¯æŒ‘å‡ºæ¥</li>
<li>ç„¶åç¿»è½¬ Stringæ•°ç»„</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseWords</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">//æŠŠæ‰€æœ‰å•è¯éƒ½æŒ‘å‡ºæ¥</span></span><br><span class="line">        List&lt;String&gt; ss = split(s);</span><br><span class="line">        <span class="comment">//System.out.println(ss);</span></span><br><span class="line">        <span class="comment">//ç¿»è½¬å•è¯</span></span><br><span class="line">        Collections.reverse(ss);</span><br><span class="line"></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (String v : ss) &#123;</span><br><span class="line">            sb.append(v);</span><br><span class="line">            sb.append(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        sb.deleteCharAt(sb.length() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">split</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (; r &lt; s.length(); r++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(r) == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (sb.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    res.add(sb.toString());</span><br><span class="line">                    sb = <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                sb.append(s.charAt(r));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//[&quot;the sky is blue&quot;] è¿™ç§æƒ…å†µä¼šå¯¼è‡´blueæ²¡æ³•åŠ è¿›å»</span></span><br><span class="line">        <span class="comment">//æ‰€ä»¥æœ€åå¾—åšå…œåº•</span></span><br><span class="line">        <span class="keyword">if</span> (sb.length() &gt; <span class="number">0</span>)</span><br><span class="line">            res.add(sb.toString());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æœ€é•¿å…¬å…±å‰ç¼€"><a href="#æœ€é•¿å…¬å…±å‰ç¼€" class="headerlink" title="æœ€é•¿å…¬å…±å‰ç¼€"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/longest-common-prefix"><font style="color:rgb(64, 158, 255);">æœ€é•¿å…¬å…±å‰ç¼€</font></a></h2><p>è€»è¾±ï¼šå¿«æ‰‹æ—¥å¸¸ä¾§å¼€ä¸€é¢ç«Ÿç„¶è„‘å­åäº†</p>
<p>æ€è·¯ï¼š</p>
<p>1. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">longestCommonPrefix</span><span class="params">(String[] strs)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">tag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="comment">//ä»¥ç¬¬ä¸€ä¸ªsträ¸ºåŸºå‡†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; strs[<span class="number">0</span>].length(); i++) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">preStr</span> <span class="operator">=</span> strs[<span class="number">0</span>].substring(<span class="number">0</span>, i + <span class="number">1</span>);</span><br><span class="line">            <span class="comment">//éå†å‰©ä½™çš„å­ä¸²</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; strs.length; j++) &#123;</span><br><span class="line">                <span class="comment">//æ˜¯å¦ä»¥preSträ¸ºå¼€å¤´</span></span><br><span class="line">                <span class="keyword">if</span> (!strs[j].startsWith(preStr)) &#123;</span><br><span class="line">                    tag = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//æ‰€æœ‰éƒ½ä¸ºï¼Œæ›´æ–°ç»“æœ</span></span><br><span class="line">            <span class="keyword">if</span> (tag) &#123;</span><br><span class="line">                res = preStr;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="éªŒè¯IPåœ°å€"><a href="#éªŒè¯IPåœ°å€" class="headerlink" title="éªŒè¯IPåœ°å€"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/validate-ip-address"><font style="color:rgb(64, 158, 255);">éªŒè¯IPåœ°å€</font></a></h2><p>æ€è·¯ï¼š</p>
<ol>
<li>å°±æ˜¯ç®€å•æ¨¡æ‹Ÿ</li>
<li>å­¦åˆ°çš„ä¸œè¥¿ï¼šInteger.parseInt(x,è¿›åˆ¶) å¯æŒ‡å®šè¿›åˆ¶</li>
<li>å¯ä»¥å­¦å­¦æ­£åˆ™è¡¨è¾¾å¼</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">validIPAddress</span><span class="params">(String queryIP)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (is4Or6(queryIP)) &#123;</span><br><span class="line">            String[] ip = queryIP.split(<span class="string">&quot;\\.&quot;</span>);</span><br><span class="line">            <span class="comment">// String[] ip = queryIP.split(&quot;.&quot;); é”™è¯¯çš„, &quot;.&quot; åœ¨æ­£åˆ™è¡¨è¾¾å¼é‡Œæ˜¯ ä»»æ„å­—ç¬¦çš„æ„æ€</span></span><br><span class="line">            <span class="comment">// System.out.println(queryIP);</span></span><br><span class="line">            <span class="comment">// System.out.println(Arrays.toString(ip));</span></span><br><span class="line">            <span class="keyword">if</span>(getCnt(<span class="string">&#x27;.&#x27;</span>,queryIP) != <span class="number">3</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;Neither&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (ip.length != <span class="number">4</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;Neither&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (String s : ip) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (s.length() &gt; <span class="number">1</span> &amp;&amp; s.charAt(<span class="number">0</span>) == <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="string">&quot;Neither&quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (Integer.parseInt(s,<span class="number">10</span>) &gt; <span class="number">255</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="string">&quot;Neither&quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&quot;Neither&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;IPv4&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            String[] ip = queryIP.split(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span>(getCnt(<span class="string">&#x27;:&#x27;</span>,queryIP) != <span class="number">7</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;Neither&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (ip.length != <span class="number">8</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;Neither&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (String s : ip) &#123;</span><br><span class="line">                <span class="keyword">if</span> (s.length() &gt; <span class="number">4</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&quot;Neither&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">try</span>&#123;</span><br><span class="line">                    <span class="comment">//è½¬æˆ16è¿›åˆ¶</span></span><br><span class="line">                    Integer.parseInt(s,<span class="number">16</span>);</span><br><span class="line">                &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&quot;Neither&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;IPv6&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">is4Or6</span><span class="params">(String queryIP)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (queryIP.contains(<span class="string">&quot;.&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCnt</span><span class="params">(<span class="type">char</span> ch,String str)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; str.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (str.charAt(i) == ch) &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åŸºæœ¬è®¡ç®—å™¨-II-67"><a href="#åŸºæœ¬è®¡ç®—å™¨-II-67" class="headerlink" title="åŸºæœ¬è®¡ç®—å™¨ II[67]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/basic-calculator-ii"><font style="color:rgb(64, 158, 255);">åŸºæœ¬è®¡ç®—å™¨ II</font></a>[67]</h2><p>æ€è·¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    Map&lt;Character,Integer&gt; calOrderMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>()&#123;</span><br><span class="line">        &#123;</span><br><span class="line">            put(<span class="string">&#x27;+&#x27;</span>,<span class="number">1</span>);</span><br><span class="line">            put(<span class="string">&#x27;-&#x27;</span>,<span class="number">1</span>);</span><br><span class="line">            put(<span class="string">&#x27;/&#x27;</span>,<span class="number">2</span>);</span><br><span class="line">            put(<span class="string">&#x27;*&#x27;</span>,<span class="number">2</span>);</span><br><span class="line">            <span class="comment">//put();</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">calculate</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">//æ›¿æ¢æ‰ç©ºæ ¼</span></span><br><span class="line">        s = s.replaceAll(<span class="string">&quot; &quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        Deque&lt;Integer&gt; nums = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">        Deque&lt;Character&gt; ops = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//é˜²æ­¢å‡ºç° -1 + 5 è¿™ç§æƒ…å†µ</span></span><br><span class="line">        nums.addLast(<span class="number">0</span>);</span><br><span class="line">        System.out.println(s);</span><br><span class="line">        <span class="type">char</span>[] cs = s.toCharArray();</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> cs.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> cs[i];</span><br><span class="line">            <span class="keyword">if</span> (isNumber(c)) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                <span class="type">int</span> <span class="variable">numIndex</span> <span class="operator">=</span> i;</span><br><span class="line">                <span class="keyword">while</span> (numIndex &lt; n &amp;&amp; isNumber(cs[numIndex])) &#123;</span><br><span class="line">                    numIndex++;</span><br><span class="line">                &#125;</span><br><span class="line">                nums.addLast(Integer.parseInt(s.substring(i, numIndex)));</span><br><span class="line">                i = numIndex - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//é‡åˆ°è¿ç®—ç¬¦äº†</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//é˜²æ­¢å‡ºç° 9 + - 1</span></span><br><span class="line">                <span class="comment">//å°†å…¶è£…æ¢æˆ 9 + 0 - 1</span></span><br><span class="line">                <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; (cs[i - <span class="number">1</span>] == <span class="string">&#x27;-&#x27;</span> || cs[i - <span class="number">1</span>] == <span class="string">&#x27;+&#x27;</span>)) &#123;</span><br><span class="line">                    nums.addLast(<span class="number">0</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//é‡åˆ°æ–°çš„è¿ç®—ç¬¦ï¼Œå…ˆæŠŠstacké‡Œèƒ½è®¡ç®—çš„ç»™è®¡ç®—äº† egï¼š9+8-1</span></span><br><span class="line">                <span class="keyword">while</span> (!ops.isEmpty()) &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (calOrderMap.get(ops.peekLast()) &gt;= calOrderMap.get(c)) &#123;</span><br><span class="line">                        cal(nums, ops);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                ops.addLast(c);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ä¸¾ä¾‹ï¼š</span></span><br><span class="line">        <span class="comment">// 2+3*4</span></span><br><span class="line">        <span class="comment">// éå†å®Œåï¼Œæ ˆé‡Œçš„æƒ…å†µå¤§æ¦‚æ˜¯ï¼š</span></span><br><span class="line">        <span class="comment">// nums = [2, 3, 4]</span></span><br><span class="line">        <span class="comment">// ops = [&#x27;+&#x27;, &#x27;*&#x27;]</span></span><br><span class="line">        <span class="keyword">while</span> (!ops.isEmpty())</span><br><span class="line">            cal(nums, ops);</span><br><span class="line">        <span class="keyword">return</span> nums.peekLast();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isNumber</span><span class="params">(<span class="type">char</span> c)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Character.isDigit(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cal</span><span class="params">(Deque&lt;Integer&gt; nums, Deque&lt;Character&gt; ops)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums.isEmpty() || nums.size() &lt;= <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (ops.isEmpty())</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">//æ³¨æ„é¡ºåº</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> nums.pollLast();</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> nums.pollLast();</span><br><span class="line">        <span class="type">char</span> <span class="variable">op</span> <span class="operator">=</span> ops.pollLast();</span><br><span class="line">        <span class="type">int</span> <span class="variable">opRes</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">                opRes = a - b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">                opRes = a + b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">                opRes = a / b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">                opRes = a * b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        nums.addLast(opRes);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®Œå…¨ç‰ˆï¼Œåº”å¯¹æ‰€æœ‰æƒ…å†µï¼Œå³å®Œæ•´çš„è®¡ç®—å™¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    Map&lt;Character, Integer&gt; opsOrderMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;</span><br><span class="line">        &#123;</span><br><span class="line">            put(<span class="string">&#x27;-&#x27;</span>, <span class="number">1</span>);</span><br><span class="line">            put(<span class="string">&#x27;+&#x27;</span>, <span class="number">1</span>);</span><br><span class="line">            put(<span class="string">&#x27;*&#x27;</span>, <span class="number">2</span>);</span><br><span class="line">            put(<span class="string">&#x27;/&#x27;</span>, <span class="number">2</span>);</span><br><span class="line">            put(<span class="string">&#x27;%&#x27;</span>, <span class="number">2</span>);</span><br><span class="line">            put(<span class="string">&#x27;^&#x27;</span>, <span class="number">3</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">calculate</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ†ä¸ºä¸¤ä¸ªStack</span></span><br><span class="line">        <span class="comment">//ä¸€ä¸ªå­˜æ“ä½œï¼Œä¸€ä¸ªå­˜æ•°å­—</span></span><br><span class="line">        Deque&lt;Character&gt; ops = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>();</span><br><span class="line">        Deque&lt;Integer&gt; nums = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>();</span><br><span class="line">        <span class="comment">//ä¸ºäº†é˜²æ­¢ç¬¬ä¸€ä¸ªå°±æ˜¯è´Ÿæ•°</span></span><br><span class="line">        nums.addLast(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å»æ‰å…¨éƒ¨ç©ºæ ¼</span></span><br><span class="line">        s = s.replaceAll(<span class="string">&quot; &quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="type">char</span>[] cs = s.toCharArray();</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> cs[i];</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                ops.addLast(c);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">//è®¡ç®— ( ) é‡Œçš„å†…å®¹äº†</span></span><br><span class="line">                <span class="keyword">while</span> (!ops.isEmpty()) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (ops.peekLast() != <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                        cal(nums, ops);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="comment">//ä¸º ( è¯´æ˜() å·²ç»è®¡ç®—å¥½äº† å¼¹å‡ºå³å¯</span></span><br><span class="line">                        ops.pollLast();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//è½¬æ¢æ•°å­—</span></span><br><span class="line">                <span class="keyword">if</span> (isNumber(c)) &#123;</span><br><span class="line">                    <span class="comment">// 19  char è½¬æˆ Integer</span></span><br><span class="line">                    <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">numIndex</span> <span class="operator">=</span> i;</span><br><span class="line">                    <span class="comment">// while(numIndex &lt; n&amp;&amp;isNumber(cs[numIndex]))&#123;</span></span><br><span class="line">                    <span class="comment">//     number = number*10 + (cs[numIndex] - &#x27;0&#x27;);</span></span><br><span class="line">                    <span class="comment">//     numIndex++;</span></span><br><span class="line">                    <span class="comment">// &#125;</span></span><br><span class="line">                    <span class="keyword">while</span> (numIndex &lt; n &amp;&amp; isNumber(cs[numIndex])) &#123;</span><br><span class="line">                        numIndex++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    nums.addLast(Integer.parseInt(s.substring(i, numIndex)));</span><br><span class="line">                    i = numIndex - <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// 1 - -2 â†’ 1 - (0-2)</span></span><br><span class="line">                    <span class="comment">// 1 + +2 â†’ 1 + (0+2)</span></span><br><span class="line">                    <span class="comment">// (+-3) â†’ (0+0-3)</span></span><br><span class="line">                    <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; (cs[i - <span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span> || cs[i - <span class="number">1</span>] == <span class="string">&#x27;+&#x27;</span> || cs[i - <span class="number">1</span>] == <span class="string">&#x27;-&#x27;</span>)) &#123;</span><br><span class="line">                        nums.addLast(<span class="number">0</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// æœ‰ä¸€ä¸ªæ–°æ“ä½œå…¥æ ˆæ—¶ï¼Œå…ˆæŠŠèƒ½ç®—çš„ç»™ç®—äº† egï¼š 1+7-9 -ï¼šå½“å‰æ–°æ“ä½œ</span></span><br><span class="line">                    <span class="keyword">while</span> (!ops.isEmpty() &amp;&amp; ops.peekLast() != <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                        <span class="type">char</span> <span class="variable">prev</span> <span class="operator">=</span> ops.peekLast();</span><br><span class="line">                        <span class="keyword">if</span> (opsOrderMap.get(prev) &gt;= opsOrderMap.get(c)) &#123;</span><br><span class="line">                            cal(nums, ops);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="comment">//æ²¡æœ‰å°±ç»§ç»­éå† eg: 12+9*1 å½“å‰è¿ç®—ç¬¦ä¸º * </span></span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    ops.addLast(c);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!ops.isEmpty()) &#123;</span><br><span class="line">            cal(nums, ops);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums.peekLast();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cal</span><span class="params">(Deque&lt;Integer&gt; nums, Deque&lt;Character&gt; ops)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ops.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> nums.pollLast();</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> nums.pollLast();</span><br><span class="line">        <span class="type">char</span> <span class="variable">op</span> <span class="operator">=</span> ops.pollLast();</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">                res = a + b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">                res = a - b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">                res = a * b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">                res = a / b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;^&#x27;</span>:</span><br><span class="line">                res = a ^ b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;%&#x27;</span>:</span><br><span class="line">                res = a % b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        nums.addLast(res);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isNumber</span><span class="params">(<span class="type">char</span> c)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Character.isDigit(c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è§£ç æ–¹æ³•-42"><a href="#è§£ç æ–¹æ³•-42" class="headerlink" title="è§£ç æ–¹æ³•[42]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/decode-ways"><font style="color:rgb(64, 158, 255);">è§£ç æ–¹æ³•</font></a>[42]</h2><p>æ€è·¯ï¼š</p>
<ol>
<li>dfsåˆ†éš”</li>
<li>ä½†å•å•dfsï¼Œå°±è¶…æ—¶äº†</li>
<li>å¾—è¿›è¡Œè®°å¿†åŒ–æ“ä½œ</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numDecodings</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        n = s.length();</span><br><span class="line">        dfs(<span class="number">0</span>, s);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> startIndex, String s)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (startIndex == n) &#123;</span><br><span class="line">            res++;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">2</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (startIndex + i  &gt; n) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> s.substring(startIndex, startIndex + i);</span><br><span class="line">            <span class="keyword">if</span> (s1.charAt(<span class="number">0</span>) == <span class="string">&#x27;0&#x27;</span> &amp;&amp; s1.length() &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> Integer.parseInt(s1);</span><br><span class="line">            <span class="keyword">if</span> (num &gt; <span class="number">26</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            dfs(startIndex + i, s);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è®°å¿†åŒ–å</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span>[] memo; <span class="comment">// ç”¨äºè®°å¿†åŒ–</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numDecodings</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        n = s.length();</span><br><span class="line">        memo = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        Arrays.fill(memo, -<span class="number">1</span>); <span class="comment">// -1 è¡¨ç¤ºæœªè®¡ç®—</span></span><br><span class="line">        dfs(<span class="number">0</span>, s);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> startIndex, String s)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (startIndex == n) &#123;</span><br><span class="line">            res++;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœå½“å‰ç´¢å¼•çš„ç»“æœå·²ç»è®¡ç®—è¿‡ï¼Œç›´æ¥ç´¯åŠ å¹¶è¿”å›</span></span><br><span class="line">        <span class="keyword">if</span> (memo[startIndex] != -<span class="number">1</span>) &#123;</span><br><span class="line">            res += memo[startIndex];</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">beforeRes</span> <span class="operator">=</span> res; <span class="comment">// è®°å½•è¿›å…¥è¿™ä¸ªç´¢å¼•å‰çš„ res</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">2</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (startIndex + i &gt; n) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> s.substring(startIndex, startIndex + i);</span><br><span class="line">            <span class="keyword">if</span> (s1.charAt(<span class="number">0</span>) == <span class="string">&#x27;0&#x27;</span>) <span class="keyword">return</span>; <span class="comment">// 0 å¼€å¤´ä¸åˆæ³•</span></span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> Integer.parseInt(s1);</span><br><span class="line">            <span class="keyword">if</span> (num &lt; <span class="number">1</span> || num &gt; <span class="number">26</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            dfs(startIndex + i, s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// memo[startIndex] = å½“å‰ç´¢å¼•å¼€å§‹çš„æ–°æ–¹æ¡ˆæ•°</span></span><br><span class="line">        memo[startIndex] = res - beforeRes;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="éªŒè¯å›æ–‡ä¸²"><a href="#éªŒè¯å›æ–‡ä¸²" class="headerlink" title="éªŒè¯å›æ–‡ä¸²"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/valid-palindrome/">éªŒè¯å›æ–‡ä¸²</a></h2><p>æ€è·¯ï¼š</p>
<ol>
<li>ç†Ÿæ‚‰å‡ ä¸ªAPIçš„ä½¿ç”¨</li>
<li>åŒæŒ‡é’ˆ</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = s.length() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt;= j)&#123;</span><br><span class="line">            <span class="keyword">while</span>(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(i))) i++;</span><br><span class="line">            <span class="keyword">while</span>(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(j))) j--;</span><br><span class="line">            <span class="keyword">if</span>(Character.toLowerCase(s.charAt(i)) != Character.toLowerCase(s.charAt(j))) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            i++; j--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…"><a href="#æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/regular-expression-matching"><font style="color:rgb(64, 158, 255);">æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</font></a></h2><h2 id="æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²"><a href="#æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²" class="headerlink" title="æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/valid-parenthesis-string"><font style="color:rgb(64, 158, 255);">æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²</font></a></h2><p>æ€è·¯ï¼š</p>
<ol>
<li>åŒæ ˆï¼Œå­˜å°æ ‡</li>
<li>æœ€ååˆ¤æ–­ä¸€ä¸‹ä¸‹æ ‡æ˜¯å¦åˆæ³• egï¼š(* or *(</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">checkValidString</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        Stack&lt;Integer&gt; left = <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">        Stack&lt;Integer&gt; stars = <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                left.add(i);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;*&#x27;</span>) &#123;</span><br><span class="line">                stars.add(i);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (!left.isEmpty()) &#123;</span><br><span class="line">                    left.pop();</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!stars.isEmpty()) &#123;</span><br><span class="line">                    stars.pop();</span><br><span class="line">                &#125; <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//egï¼š( *</span></span><br><span class="line">        <span class="keyword">while</span>(!stars.isEmpty() &amp;&amp; !left.isEmpty())&#123;</span><br><span class="line">            <span class="keyword">if</span>(stars.pop() &lt; left.pop())&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å­—æ¯å¼‚ä½è¯åˆ†ç»„-12"><a href="#å­—æ¯å¼‚ä½è¯åˆ†ç»„-12" class="headerlink" title="å­—æ¯å¼‚ä½è¯åˆ†ç»„[12]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/group-anagrams"><font style="color:rgb(64, 158, 255);">å­—æ¯å¼‚ä½è¯åˆ†ç»„</font></a>[12]</h2><p>æ€è·¯ï¼š</p>
<ol>
<li>å­—ç¬¦ä¸²å­—å…¸æ’åºï¼Œç„¶åMAP</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">groupAnagrams</span><span class="params">(String[] strs)</span> &#123;</span><br><span class="line">        HashMap&lt;String,List&lt;String&gt;&gt; slots = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(String s: strs)&#123;</span><br><span class="line">            <span class="type">char</span> []cs = s.toCharArray();</span><br><span class="line">            Arrays.sort(cs);</span><br><span class="line">            <span class="type">String</span> <span class="variable">newS</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(cs);</span><br><span class="line">            <span class="keyword">if</span>( slots.get(newS) == <span class="literal">null</span>)&#123;</span><br><span class="line">                List&lt;String&gt;  list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">                list.add(s);</span><br><span class="line">                slots.put(newS,list);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> slots.get(newS).add(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(slots.values()); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äº¤é”™å­—ç¬¦ä¸²-27"><a href="#äº¤é”™å­—ç¬¦ä¸²-27" class="headerlink" title="äº¤é”™å­—ç¬¦ä¸²[27]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/interleaving-string"><font style="color:rgb(64, 158, 255);">äº¤é”™å­—ç¬¦ä¸²</font></a>[27]</h2><p>é¢˜ç›®ï¼š</p>
<p><img src="/images/70f30d56a652723c36e12708f79097c6.jpeg"></p>
<p>æ€è·¯ï¼š</p>
<ol>
<li>dfsï¼Œå›°æƒ‘ï¼šæœ‰æ—¶å€™è¿dfsçš„å‡½æ•°éƒ½æƒ³ä¸å‡ºæ¥ï¼ŒçœŸçš„é€†å¤©ï¼Œæ²¡æƒ³æ¸…æ¥šæ˜¯å­—ç¬¦ä¸²æ˜¯æ€ä¹ˆåŒ¹é…çš„ã€‚è¿˜æ˜¯å¾—æŠŠå›æº¯æ ‘ç»™ç”»å‡ºæ¥</li>
<li>å›æº¯æ—¶é—´å¤æ‚åº¦ä¸º2^kï¼ˆkä¸ºs3çš„é•¿åº¦ï¼‰ï¼Œæ•…å¾—è¿›è¡Œè®°å¿†åŒ–ï¼Œæ¥å‰ªæ</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span>[][] cache;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isInterleave</span><span class="params">(String s1, String s2, String s3)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> s1.length();</span><br><span class="line">        <span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> s2.length();</span><br><span class="line">        <span class="type">int</span> <span class="variable">n3</span> <span class="operator">=</span> s3.length();</span><br><span class="line">        <span class="keyword">if</span> (n1 + n2 != n3) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cache = <span class="keyword">new</span> <span class="title class_">int</span>[n1][n2];</span><br><span class="line">        <span class="comment">//æŸ¥æ‰¾å­—ç¬¦ä¸²é‡Œæ˜¯å¦åŒ…å«s1 ä½†å¯æ–­ç»­</span></span><br><span class="line">        <span class="keyword">return</span> dfs(s1, s2, s3, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(String s1, String s2, String s3, <span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == s1.length() &amp;&amp; j == s2.length() &amp;&amp; k == s3.length()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i + j &gt; s3.length()) &#123;</span><br><span class="line">            cache[i][j]= -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; s1.length() &amp;&amp; j &lt; s2.length()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cache[i][j] == -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (cache[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; s1.length()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s1.charAt(i) == s3.charAt(k) &amp;&amp; dfs(s1, s2, s3, i + <span class="number">1</span>, j, k + <span class="number">1</span>)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i &lt; s1.length() &amp;&amp; j &lt; s2.length())</span><br><span class="line">                    cache[i][j] = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (j &lt; s2.length()) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (s2.charAt(j) == s3.charAt(k) &amp;&amp; dfs(s1, s2, s3, i, j + <span class="number">1</span>, k + <span class="number">1</span>)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i &lt; s1.length() &amp;&amp; j &lt; s2.length())</span><br><span class="line">                    cache[i][j] = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; s1.length() &amp;&amp; j &lt; s2.length())</span><br><span class="line">            cache[i][j] = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canForm</span><span class="params">(String t, StringBuilder sb)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (j &lt; t.length() &amp;&amp; i &lt; sb.length()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (t.charAt(j) == sb.charAt(i)) &#123;</span><br><span class="line">                j++;</span><br><span class="line">                sb.setCharAt(i, <span class="string">&#x27;#&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> j == t.length();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¡¥å……é¢˜9-36è¿›åˆ¶åŠ æ³•"><a href="#è¡¥å……é¢˜9-36è¿›åˆ¶åŠ æ³•" class="headerlink" title="è¡¥å……é¢˜9. 36è¿›åˆ¶åŠ æ³•"></a><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/XcKQwnwCh5nZsz-DLHJwzQ"><font style="color:rgb(64, 158, 255);">è¡¥å……é¢˜9. 36è¿›åˆ¶åŠ æ³•</font></a></h2><p>æ€è·¯ï¼šå°±æ˜¯å¤§æ•°ç›¸åŠ çš„æ‰©å±•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å»é™¤é‡å¤å­—æ¯"><a href="#å»é™¤é‡å¤å­—æ¯" class="headerlink" title="å»é™¤é‡å¤å­—æ¯"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/remove-duplicate-letters"><font style="color:rgb(64, 158, 255);">å»é™¤é‡å¤å­—æ¯</font></a></h2><h2 id="å­—ç¬¦ä¸²è§£ç -90"><a href="#å­—ç¬¦ä¸²è§£ç -90" class="headerlink" title="å­—ç¬¦ä¸²è§£ç [90]"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/decode-string"><font style="color:rgb(64, 158, 255);">å­—ç¬¦ä¸²è§£ç </font></a>[<font style="color:rgb(96, 98, 102);background-color:rgb(237, 245, 255);">90</font>]</h2><p>æ€è·¯</p>
<ol>
<li>ç±»ä¼¼äº åŸºæœ¬è®¡ç®—å™¨ï¼Œä¹Ÿæ˜¯åŒæ ˆ</li>
<li>ä¸€ä¸ªæ ˆå­˜æ•°å­—ï¼Œä¸€ä¸ªæ ˆå­˜å­—ç¬¦ã€‚è¿™é‡Œçš„ [ å°±ç±»ä¼¼äº * </li>
<li>é€»è¾‘ï¼Œé‡åˆ°å­—ç¬¦ï¼Œéå†ç›´åˆ°ä¸æ˜¯å­—ç¬¦ï¼Œé‡åˆ°æ•°å­—ä¹Ÿæ˜¯ï¼Œé‡åˆ°] å°± calè¿ç®—ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">decodeString</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        Stack&lt;Integer&gt; nums = <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">        Stack&lt;String&gt; chars = <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (Character.isDigit(c)) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">startIndex</span> <span class="operator">=</span> i;</span><br><span class="line">                <span class="keyword">while</span> (startIndex &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(startIndex))) &#123;</span><br><span class="line">                    startIndex++;</span><br><span class="line">                &#125;</span><br><span class="line">                nums.add(Integer.parseInt(s.substring(i, startIndex)));</span><br><span class="line">                i = startIndex - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;]&#x27;</span>) &#123;</span><br><span class="line">                cal(nums, chars);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;[&#x27;</span>) &#123;</span><br><span class="line">                chars.add(c + <span class="string">&quot;&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">startIndex</span> <span class="operator">=</span> i;</span><br><span class="line">                <span class="keyword">while</span> (startIndex &lt; s.length() &amp;&amp; s.charAt(startIndex) &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; s.charAt(startIndex) &lt;= <span class="string">&#x27;z&#x27;</span>) &#123;</span><br><span class="line">                    startIndex++;</span><br><span class="line">                &#125;</span><br><span class="line">                chars.add(s.substring(i, startIndex));</span><br><span class="line">                i = startIndex - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//System.out.println(chars);</span></span><br><span class="line"></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        <span class="keyword">while</span> (!chars.isEmpty()) &#123;</span><br><span class="line">            list.add(chars.pop());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> list.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            res.append(list.get(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cal</span><span class="params">(Stack&lt;Integer&gt; nums, Stack&lt;String&gt; chars)</span> &#123;</span><br><span class="line">        <span class="comment">// åŸºç¡€æ£€æŸ¥ï¼Œå¦‚æœæ ˆä¸ºç©ºåˆ™è¿”å›</span></span><br><span class="line">        <span class="keyword">if</span> (nums.isEmpty() || chars.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1. è·å–é‡å¤å› å­</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">factor</span> <span class="operator">=</span> nums.pop();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. æå–éœ€è¦é‡å¤çš„å­—ç¬¦ä¸²ç‰‡æ®µ</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">segment</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">while</span> (!chars.isEmpty() &amp;&amp; !chars.peek().equals(<span class="string">&quot;[&quot;</span>)) &#123;</span><br><span class="line">            <span class="comment">// ä¼˜åŒ–ç‚¹ 1: Pop and Prepend (å¼¹å‡ºå¹¶å‰ç½®)</span></span><br><span class="line">            <span class="comment">// å°†å¼¹å‡ºçš„ç‰‡æ®µæ’å…¥åˆ° StringBuilder çš„å¼€å¤´ (index 0)</span></span><br><span class="line">            <span class="comment">// è¿™æ ·å¯ä»¥é¿å…é¢å¤–çš„ List å­˜å‚¨å’ŒäºŒæ¬¡åè½¬æ“ä½œ</span></span><br><span class="line">            segment.insert(<span class="number">0</span>, chars.pop());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. ç§»é™¤å¼€å¤´çš„å·¦æ‹¬å· &#x27;[&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> (!chars.isEmpty() &amp;&amp; chars.peek().equals(<span class="string">&quot;[&quot;</span>)) &#123;</span><br><span class="line">            chars.pop();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4. é‡å¤ç‰‡æ®µå¹¶æ¨å›æ ˆä¸­</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">segmentStr</span> <span class="operator">=</span> segment.toString();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¼˜åŒ–ç‚¹ 2: ä½¿ç”¨ String.repeat() (æ¨è Java 11+)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">repeatedString</span> <span class="operator">=</span> segmentStr.repeat(factor);</span><br><span class="line"></span><br><span class="line">        chars.push(repeatedString);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/images/e389f57a76970c0ef87baa2fc8baba95.png"></p>
<p>æ—¶é—´å¤æ‚åº¦</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/09/11/Codetop%E5%88%B7%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/09/11/Codetop%E5%88%B7%E9%A2%98/" class="post-title-link" itemprop="url">Codetopåˆ·é¢˜</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-09-11 20:34:32" itemprop="dateCreated datePublished" datetime="2025-09-11T20:34:32+08:00">2025-09-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-10-22 09:12:07" itemprop="dateModified" datetime="2025-10-22T09:12:07+08:00">2025-10-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>æ¯ä¸ªæ ‡ç­¾å‰ä¸‰åé“</p>
<p>é¢è¯•å‰APIå¤ä¹ </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/09/10/%E8%AE%A1%E7%BD%91/TCP%20%E5%92%8C%20UDP%20%E7%9A%84%E7%AB%AF%E5%8F%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/09/10/%E8%AE%A1%E7%BD%91/TCP%20%E5%92%8C%20UDP%20%E7%9A%84%E7%AB%AF%E5%8F%A3/" class="post-title-link" itemprop="url">TCP å’Œ UDP çš„ç«¯å£</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-09-10 23:17:00" itemprop="dateCreated datePublished" datetime="2025-09-10T23:17:00+08:00">2025-09-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-18 10:14:06" itemprop="dateModified" datetime="2025-09-18T10:14:06+08:00">2025-09-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%BD%91/" itemprop="url" rel="index"><span itemprop="name">è®¡ç½‘</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>TCPå’ŒUDPå¯ä»¥åŒæ—¶ç»‘å®šç›¸åŒçš„ç«¯å£å—ï¼Ÿ</p>
<p>å¯ä»¥çš„ï¼Œç½‘ç»œå±‚ä¼šæ ¹æ®ä½ IPåŒ…å¤´çš„åè®®å·å°±çŸ¥é“è¯¥æ•°æ®åŒ…æ˜¯TCPè¿˜æ˜¯UDPï¼Œå°±ç¡®å®šå‘ç»™å“ªä¸€ä¸ªæ¨¡å—å¤„ç†</p>
<p><strong>åŸå› åœ¨äº</strong>ï¼šæ“ä½œç³»ç»Ÿå†…æ ¸ç®¡ç† socket çš„æ—¶å€™ï¼ŒåŒºåˆ†çš„ä¸æ˜¯å•çº¯çš„ç«¯å£å·ï¼Œè€Œæ˜¯ <strong>(åè®®, æœ¬åœ°IP, æœ¬åœ°ç«¯å£, è¿œ</strong></p>
<p><strong>ç«¯IP, è¿œç«¯ç«¯å£) è¿™ä¸ªäº”å…ƒç»„ã€‚</strong></p>
<p>å¤šä¸ªTCPæœåŠ¡è¿›ç¨‹å¯ä»¥ç»‘å®šåŒä¸€ä¸ªç«¯å£å—ï¼Ÿ</p>
<p>å¦‚æœå¤šä¸ªTCPæœåŠ¡è¿›ç¨‹ç»‘å®šçš„ç«¯å£ IPåœ°å€å’Œç«¯å£å·ç›¸åŒï¼Œé‚£å°±ä¸è¡Œï¼Œæ‰§è¡Œbind()ä¼šæŠ¥é”™</p>
<p>ä½†å¦‚æœé‚£ä¸ªSocketè®¾ç½®äº†SO_REUSEADDRï¼Œåªè¦ä¸¤ä¸ªè¿›ç¨‹bindçš„IPä¸ç›¸åŒã€‚é‚£å°±æ˜¯å¯ä»¥çš„</p>
<p>å¦‚ä½•è§£å†³æœåŠ¡ç«¯è¿›ç¨‹é‡å¯æ—¶ï¼ŒæŠ¥é”™â€œAddress already in useâ€çš„é—®é¢˜ï¼Ÿ </p>
<p>å½“æˆ‘ä»¬é‡å¯TCPæœåŠ¡è¿›ç¨‹çš„æ—¶å€™ï¼Œæ„å‘³ç€æœåŠ¡ç«¯å‘èµ·äº†å…³é—­è¿æ¥æ“ä½œã€‚äºæ˜¯å°±æ˜¯ä¼šç»è¿‡å››æ¬¡æŒ¥æ‰‹ã€‚è€Œå¯¹äº</p>
<p><strong><font style="color:#DF2A3F;">ä¸»åŠ¨å…³é—­æ–¹</font></strong>ï¼Œä¼šåœ¨TIME_WAITçŠ¶æ€åœç•™ä¸€æ®µæ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´å¤§æ¦‚æ˜¯2MSL</p>
<p>å½“tcpæœåŠ¡è¿›ç¨‹é‡å¯æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šå‡ºç°TIME_WAITçŠ¶æ€çš„è¿æ¥ï¼ŒTIME_WAITçŠ¶æ€çš„è¿æ¥ä»ç„¶æ²¡æœ‰é‡Šæ”¾ip+port</p>
<p>æ•…æ‰§è¡Œbind()ä¼šæŠ¥é”™ï¼Œaddress already in use</p>
<p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹Socket è®¾ç½® so_reuseadd</p>
<p>è¿™æ ·å³ä½¿å­˜åœ¨ä¸€ä¸ªå’Œbind ipå’Œportä¸€æ ·çš„TIME_WAITçŠ¶æ€çš„è¿æ¥ï¼Œé‚£è¿˜æ˜¯å¯ä»¥ç»‘å®šæˆåŠŸï¼Œä»è€Œé‡å¯æˆåŠŸ</p>
<p>å®¢æˆ·ç«¯çš„ç«¯å£å¯ä»¥é‡å¤ä½¿ç”¨å—ï¼Ÿ </p>
<p>ç¡®å®šå”¯ä¸€çš„è¿æ¥æ˜¯é äº”å…ƒç»„ï¼ˆåè®®ï¼ŒæºIPï¼Œæºç«¯å£ï¼Œç›®æ ‡IPï¼Œç›®æ ‡ç«¯å£ï¼‰ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªä¸ä¸€æ ·å°±è¡¨æ˜æ˜¯ä¸åŒ</p>
<p>çš„è¿æ¥</p>
<p><strong>å†…æ ¸æ˜¯é€šè¿‡å››å…ƒç»„ä¿¡æ¯æ¥å®šä½ä¸€ä¸ª TCP è¿æ¥çš„</strong></p>
<p>å®¢æˆ·ç«¯ TCP è¿æ¥ TIME_WAIT çŠ¶æ€è¿‡å¤šï¼Œä¼šå¯¼è‡´ç«¯å£èµ„æºè€—å°½è€Œæ— æ³•å»ºç«‹æ–°çš„è¿æ¥å—ï¼Ÿ </p>
<p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œé‚£å¾—çœ‹å®¢æˆ·ç«¯è¿çš„æ˜¯ä¸æ˜¯éƒ½æ˜¯åŒä¸€ä¸ªæœåŠ¡å™¨ï¼ˆip,portç›¸åŒï¼‰</p>
<p>å¦‚æœä¸ä¸€æ ·çš„è¯ï¼Œç«¯å£æ˜¯å¯ä»¥å¤ç”¨çš„ã€‚</p>
<p>ä¸€æ ·çš„è¯ï¼Œå°±ä¼šè¢«ç«¯å£çš„æ•°é‡é™åˆ¶ä½</p>
<p>æ‰€ä»¥ï¼Œå¦‚æœå®¢æˆ·ç«¯éƒ½æ˜¯ä¸ä¸åŒçš„æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œå³ä½¿å®¢æˆ·ç«¯ç«¯å£èµ„æºåªæœ‰å‡ ä¸‡ä¸ªï¼Œ å®¢æˆ·ç«¯å‘èµ·ç™¾ä¸‡çº§è¿æ¥ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ï¼ˆå½“ç„¶è¿™ä¸ªè¿‡ç¨‹è¿˜ä¼šå—é™äºå…¶ä»–èµ„æºï¼Œæ¯”å¦‚æ–‡ä»¶æè¿°ç¬¦ã€å†…å­˜ã€CPU ç­‰ï¼‰ã€‚ </p>
<p>å¦‚ä½•è§£å†³å®¢æˆ·ç«¯TIME_WAITè¿æ¥è¿‡å¤šï¼Œå¯¼è‡´æ— æ³•åŒæ—¶å’ŒåŒä¸€ä¸ªæœåŠ¡å™¨å»ºç«‹è¿æ¥çš„é—®é¢˜ï¼Ÿ</p>
<p>æ‰“å¼€tcp_tw_reuseã€‚ä½ å®¢æˆ·ç«¯è°ƒç”¨connect()æ—¶ï¼Œå¦‚æœå‘ç°å·²ç»æœ‰é“¾æ¥å ç”¨ipå’Œportï¼Œä¼šæ£€æŸ¥åŸæœ‰è¿æ¥æ˜¯å¦æ˜¯</p>
<p>TIME_WAITçŠ¶æ€ï¼Œç„¶åæ£€æŸ¥è¯¥é“¾æ¥æ˜¯å¦å­˜åœ¨è¶…è¿‡äº†1sï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œé‚£å°±å¤ç”¨å®ƒ</p>
<p>ä¸è¿‡è¿™ç§æ–¹å¼æ¯”è¾ƒæ¿€è¿›ï¼ŒLinux2.4å·²ç»è¢«åºŸå¼ƒäº†</p>
<p><img src="/images/7066ec6a76dbf89dc7ed89b39592255e.png"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/09/10/%E8%AE%A1%E7%BD%91/TCP%E5%92%8CUDP/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B2%A1%E6%9C%89listen%EF%BC%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%8F%91%E8%B5%B7%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/09/10/%E8%AE%A1%E7%BD%91/TCP%E5%92%8CUDP/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B2%A1%E6%9C%89listen%EF%BC%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%8F%91%E8%B5%B7%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B/" class="post-title-link" itemprop="url">æœåŠ¡ç«¯æ²¡æœ‰listenï¼Œå®¢æˆ·ç«¯å‘èµ·è¿æ¥å»ºç«‹</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-09-10 22:57:37" itemprop="dateCreated datePublished" datetime="2025-09-10T22:57:37+08:00">2025-09-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-18 20:09:25" itemprop="dateModified" datetime="2025-09-18T20:09:25+08:00">2025-09-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%BD%91/" itemprop="url" rel="index"><span itemprop="name">è®¡ç½‘</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%BD%91/TCP%E5%92%8CUDP/" itemprop="url" rel="index"><span itemprop="name">TCPå’ŒUDP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>æœåŠ¡ç«¯åªbindäº†ipå’Œç«¯å£ï¼Œä½†æ˜¯æ²¡æœ‰listenè¿™ä¸ªsocketç›‘å¬ï¼Œå®¢æˆ·ç«¯æ­¤æ—¶å‘èµ·å»ºç«‹è¿æ¥ï¼Œä¼šæ€æ ·ï¼Ÿ </p>
<p>æœåŠ¡ç«¯ä¼šè¿”å›RSTï¼Œå³æŠŠSYNä¸¢æ‰</p>
<p>RST æŠ¥æ–‡æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>RST æŠ¥æ–‡æ˜¯ TCP ä¸­çš„ä¸€ç§â€œæš´åŠ›â€æ–­å¼€è¿æ¥çš„æ–¹å¼ã€‚å®ƒçš„æ„æ€æ˜¯ <strong>Reset</strong>ï¼Œå³â€œå¤ä½â€ã€‚å½“æ¥æ”¶æ–¹å‘é€ RST æ—¶ï¼Œå®ƒæ˜¯åœ¨å‘Šè¯‰å¯¹æ–¹ï¼šâ€œæˆ‘æ— æ³•å»ºç«‹è¿™ä¸ªè¿æ¥ï¼Œè¯·ç«‹å³ç»ˆæ­¢ï¼â€ è¿™å’Œæ­£å¸¸çš„å››æ¬¡æŒ¥æ‰‹æ–­å¼€è¿æ¥ä¸åŒï¼ŒRST æ˜¯ä¸€ç§ä¸åŒ…å«ä»»ä½•ç¡®è®¤çš„ã€çªç„¶çš„è¿æ¥ç»ˆæ­¢ã€‚</p>
<p><img src="/images/0a38563925f4d9fe630148a20d8618ab.png"></p>
<p>ä¸ä½¿ç”¨listenï¼Œå¯ä»¥å»ºç«‹tcpè¿æ¥å—</p>
<p><strong>å¯ä»¥çš„</strong>ã€‚tcpè‡ªè¿æ¥ï¼ˆåŒä¸€å°æœºå™¨å†…çš„ä¸åŒè¿›ç¨‹è¿ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸¤ä¸ªå®¢æˆ·ç«¯åŒæ—¶å‘èµ·å»ºç«‹è¿æ¥çš„è¯·æ±‚ï¼ˆ<strong>ä¸¤ä¸ªç‹¬</strong></p>
<p><strong>ç«‹çš„å®¢æˆ·ç«¯</strong>ä¹‹é—´ï¼Œå®ƒä»¬åŒæ—¶å°è¯•ä¸å¯¹æ–¹å»ºç«‹è¿æ¥ï¼‰ã€‚  </p>
<p>è¿™ä¸¤ç§æƒ…å†µéƒ½ä¸éœ€è¦listenï¼Œä½†éƒ½å¯ä»¥å»ºç«‹è¿æ¥</p>
<p>åŠè¿æ¥å’Œå…¨è¿æ¥é˜Ÿåˆ—éƒ½æ˜¯åœ¨æœåŠ¡ç«¯listenæ—¶å†…æ ¸è‡ªåŠ¨åˆ›å»ºçš„ï¼Œæ•…å®¢æˆ·ç«¯æ˜¯æ²¡æœ‰è¿™ä¸ªä¸œè¥¿çš„ã€‚</p>
<p>ä½†å†…æ ¸æœ‰ä¸ªå…¨å±€hashè¡¨ï¼Œç”¨æ¥å­˜æ”¾sockçš„ä¿¡æ¯</p>
<p>åœ¨tcpè‡ªè¿æ¥ä¸­ï¼Œå®¢æˆ·ç«¯åœ¨connecæ–¹æ³•ä¸­ï¼Œä¼šå°†è‡ªå·±çš„è¿æ¥ä¿¡æ¯æ”¾å…¥è¿™ä¸ªå…¨å±€hashè¡¨ä¸­</p>
<p>ç„¶åå°†ä¿¡æ¯å‘å‡ºï¼Œæ¶ˆæ¯ç»è¿‡å›ç¯åœ°å€é‡æ–°å›ç­”tcpä¼ è¾“å±‚æ—¶ï¼Œå°±ä¼šæ ¹æ®IP+ç«¯å£ä¿¡æ¯å»è¿™ä¸ªå…¨å±€hashä¸­å–ä¿¡æ¯</p>
<p>äºæ˜¯æ¡æ‰‹ä¸€æ¥ä¸€å›ï¼Œæœ€åæˆåŠŸå»ºç«‹è¿æ¥</p>
<p>åœ¨ä¸¤ä¸ªç‹¬ç«‹çš„å®¢æˆ·ç«¯ä¹‹é—´ï¼ŒåŒæ—¶å°è¯•ä¸å¯¹æ–¹å»ºç«‹è¿æ¥æ—¶ï¼š</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/09/10/%E8%AE%A1%E7%BD%91/TCP%E5%92%8CUDP/%E6%B2%A1%E6%9C%89accept%EF%BC%8C%E8%83%BD%E5%BB%BA%E7%AB%8BTCP%E8%BF%9E%E6%8E%A5%E5%90%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/09/10/%E8%AE%A1%E7%BD%91/TCP%E5%92%8CUDP/%E6%B2%A1%E6%9C%89accept%EF%BC%8C%E8%83%BD%E5%BB%BA%E7%AB%8BTCP%E8%BF%9E%E6%8E%A5%E5%90%97/" class="post-title-link" itemprop="url">æ²¡æœ‰acceptï¼Œèƒ½å»ºç«‹TCPè¿æ¥å—</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-09-10 22:19:14 / ä¿®æ”¹æ—¶é—´ï¼š22:49:51" itemprop="dateCreated datePublished" datetime="2025-09-10T22:19:14+08:00">2025-09-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%BD%91/" itemprop="url" rel="index"><span itemprop="name">è®¡ç½‘</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%BD%91/TCP%E5%92%8CUDP/" itemprop="url" rel="index"><span itemprop="name">TCPå’ŒUDP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/images/0a38563925f4d9fe630148a20d8618ab.png"></p>
<p>åŠè¿æ¥é˜Ÿåˆ—ï¼šæ˜¯ä¸€ä¸ªhashè¡¨ï¼ŒæœåŠ¡ç«¯ç¬¬ä¸€æ¬¡æ¡æ‰‹åï¼Œä¼šå°†sockå­˜äºè¿™ä¸ªé˜Ÿåˆ—é‡Œï¼Œé˜Ÿåˆ—ä¸­çš„sockéƒ½å¤„äºSYN_RECVçŠ¶æ€</p>
<p>å…¨è¿æ¥é˜Ÿåˆ—ï¼šæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œåœ¨æœåŠ¡ç«¯æ”¶åˆ°ä¸‰æ¬¡æ¡æ‰‹åï¼Œå°±ä¼šå°†Sockä»åŠè¿æ¥é˜Ÿåˆ—ä¸­å–å‡ºï¼Œç„¶åæ”¾åˆ°å…¨è¿æ¥é˜Ÿåˆ—ä¸­</p>
<p>é˜Ÿåˆ—ä¸­ã€‚é˜Ÿåˆ—ä¸­çš„sockéƒ½å¤„äºä¸€ä¸ªestablishedçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡ç«¯æ‰§è¡Œaccept()åå°±å¯ä»¥å–å‡ºäº†</p>
<p>å¯ä»¥çš„ï¼Œå»ºç«‹è¿æ¥æ ¹æœ¬å°±ä¸éœ€è¦ acceptçš„å‚ä¸ï¼Œacceptæ„ä¹‰åœ¨äºä»å…¨è¿æ¥é˜Ÿåˆ—ä¸­å–å‡ºä¸€æ¡è¿æ¥</p>
<p>è™½ç„¶éƒ½å«é˜Ÿåˆ—ï¼Œä½†å…¶å®å…¨è¿æ¥é˜Ÿåˆ—ï¼ˆicsk_accept_queueï¼‰æ˜¯ä¸ªé“¾è¡¨ï¼ˆaccpetæ–¹ä¾¿å–å‡ºï¼‰ï¼Œè€ŒåŠè¿æ¥é˜Ÿåˆ—ï¼ˆsyn_tableï¼‰æ˜¯ä¸ªå“ˆå¸Œè¡¨ï¼ˆç¬¬ä¸‰æ¬¡æ¡æ‰‹æ¥äº†æ–¹ä¾¿æ‰¾åˆ°æ˜¯å“ªä¸ªsocketï¼‰ã€‚ </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/09/10/%E8%AE%A1%E7%BD%91/TCP%E5%92%8CUDP/%E7%94%A8%E4%BA%86TCP%EF%BC%8C%E6%95%B0%E6%8D%AE%E4%B8%80%E5%AE%9A%E4%B8%8D%E4%BC%9A%E4%B8%A2%E5%90%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/09/10/%E8%AE%A1%E7%BD%91/TCP%E5%92%8CUDP/%E7%94%A8%E4%BA%86TCP%EF%BC%8C%E6%95%B0%E6%8D%AE%E4%B8%80%E5%AE%9A%E4%B8%8D%E4%BC%9A%E4%B8%A2%E5%90%97/" class="post-title-link" itemprop="url">ç”¨äº†TCPï¼Œæ•°æ®ä¸€å®šä¸ä¼šä¸¢å—</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-09-10 21:56:40 / ä¿®æ”¹æ—¶é—´ï¼š22:17:11" itemprop="dateCreated datePublished" datetime="2025-09-10T21:56:40+08:00">2025-09-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%BD%91/" itemprop="url" rel="index"><span itemprop="name">è®¡ç½‘</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%BD%91/TCP%E5%92%8CUDP/" itemprop="url" rel="index"><span itemprop="name">TCPå’ŒUDP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>å»ºç«‹è¿æ¥æ—¶ä¼šä¸¢åŒ…</p>
<p>å¦‚æœå¯¹æ–¹å…¨è¿æ¥æˆ–è€…åŠè¿æ¥æ»¡äº†ï¼Œä¼šæ‹’ç»å»ºç«‹è¯·æ±‚çš„</p>
<p>æµé‡æ§åˆ¶æ—¶ä¸¢åŒ…</p>
<p>å‘é€æ•°æ®è¿‡å¿«æ—¶ï¼Œè¶…è¿‡æµæ§é˜Ÿåˆ— å³ å†…æ ¸é‡Œé¢æ§åˆ¶æ•°æ®æµé‡å¤§å°çš„é˜Ÿåˆ— çš„é•¿åº¦</p>
<p>ç½‘å¡ä¸¢åŒ…</p>
<p>Ringbufferè¿‡å°ä¼šæº¢å‡ºï¼Œä¸¢åŒ…</p>
<p>ç½‘å¡å¤„ç†ä¸è¿‡æ¥ä¼šä¸¢åŒ…</p>
<p>è¶…å‡ºå¯¹æ–¹å†…æ ¸æ¥å—ç¼“å†²åŒºå¤§å°</p>
<p>ä¸¤ç«¯ä¹‹é—´ç½‘ç»œä¼ è¾“ä¸¢åŒ…</p>
<p>å¯¹äºè¿™äº›ä¸¢åŒ…ç°è±¡ï¼Œé‡‡ç”¨tcpæƒ³åè®®æ ˆå¯ä»¥è§£å†³å—</p>
<p>tcpä¿è¯çš„å¯é æ€§åªæ˜¯è¯´ä¿è¯å‘é€æ–¹èƒ½å¯é åœ°æŠŠæ•°æ®ä»å·²æ–¹çš„ä¼ è¾“å±‚å‘åˆ°å¯¹æ–¹çš„ä¼ è¾“å±‚</p>
<p>è‡³äºæ•°æ®åˆ°äº†æ¥æ”¶æ–¹çš„ä¼ è¾“å±‚åï¼Œèƒ½ä¸èƒ½åˆ°åº”ç”¨å±‚ï¼Œtcpæ˜¯ä¸ç®¡çš„</p>
<p>å‡è®¾æˆ‘ä»¬ç°åœ¨ç”¨æ‰‹æœºç»™æœ‹å‹å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œèµ°åˆ°ä¼ è¾“å±‚çš„tcpç¼“å†²åŒºï¼Œç„¶åå‘å‡ºï¼Œä¸ç®¡ä¸­é—´æœ‰æ²¡æœ‰ä¸¢åŒ…</p>
<p>æœ€åé€šè¿‡é‡ä¼ ä¿è¯å‘åˆ°äº†å¯¹æ–¹çš„ç¼“å†²åŒºï¼Œæ­¤æ—¶æ¥å—ç«¯å°±ä¼šå›ä¸€ä¸ªackï¼Œç„¶åå‘é€ç«¯æ”¶åˆ°ackåå°±ä¼šæŠŠç¼“å­˜</p>
<p>åŒºé‡Œçš„è¿™ä¸€æ¡æ¶ˆæ¯æ‘˜æ‰ã€‚åˆ°è¿™é‡Œtcpçš„ä»»åŠ¡å°±ç»“æŸäº†</p>
<p>tcpçš„ä»»åŠ¡æ˜¯ç»“æŸäº†ï¼Œä½†èŠå¤©è½¯ä»¶çš„ä»»åŠ¡è¿˜æ²¡ç»“æŸ</p>
<p>èŠå¤©è½¯ä»¶è¿˜éœ€è¦æŠŠæ¶ˆæ¯ä»tcpç¼“å†²åŒºé‡Œè¯»å‡ºæ¥ï¼Œå¦‚æœåœ¨è¯»çš„æ—¶å€™æ‰‹æœºå†…å­˜ä¸è¶³ï¼Œç¨‹åºç›´æ¥æ€æ­»äº†</p>
<p>ä½†è¿™æ—¶å€™å‘é€ç«¯æ˜¯ä¸å¯èƒ½å›é‡ä¼ çš„</p>
<p>äºæ˜¯ä¹ï¼Œæ¶ˆæ¯å°±ä¸¢äº†ä¹ˆ</p>
<p>è¿™ä¸ªé—®é¢˜å…¶å®åœ¨ä¸¤ä¸ªç”¨æˆ·ä¹‹é—´åŠ ä¸€å±‚æœåŠ¡å™¨ä¸­è½¬å³å¯ï¼ˆPSï¼šä½†æœ‰ä¸€è¯´ä¸€ï¼ŒæœåŠ¡å™¨ä¹Ÿä¼šæŒ‚ ç‹—å¤´ï¼‰</p>
<p>å¯¹äºå‘é€æ–¹ï¼Œåªè¦å®šæ—¶è·ŸæœåŠ¡ç«¯çš„å†…å®¹å¯¹è´¦ä¸€ä¸‹ï¼Œå°±çŸ¥é“å“ªæ¡æ¶ˆæ¯æ²¡å‘é€æˆåŠŸï¼Œç›´æ¥é‡å‘å°±å¥½äº†ã€‚ </p>
<p>å¦‚æœæ¥æ”¶æ–¹çš„èŠå¤©è½¯ä»¶å´©æºƒäº†ï¼Œé‡å¯åè·ŸæœåŠ¡å™¨ç¨å¾®é€šä¿¡ä¸€ä¸‹å°±çŸ¥é“å°‘äº†å“ªæ¡æ•°æ®ï¼ŒåŒæ­¥ä¸Šæ¥å°±æ˜¯äº†ï¼Œæ‰€ä»¥ä¹Ÿä¸å­˜åœ¨ä¸Šé¢æåˆ°çš„ä¸¢åŒ…æƒ…å†µã€‚ </p>
<p>ä¸¤ç«¯é€šä¿¡çš„æ—¶å€™ä¹Ÿèƒ½å¯¹è´¦ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å¼•å…¥ç¬¬ä¸‰ç«¯æœåŠ¡å™¨ï¼Ÿ </p>
<pre><code>- ç¬¬ä¸€ï¼Œå¦‚æœæ˜¯ä¸¤ç«¯é€šä¿¡ï¼Œä½ èŠå¤©è½¯ä»¶é‡Œæœ‰1000ä¸ªå¥½å‹ï¼Œä½ å°±å¾—å»ºç«‹1000ä¸ªè¿æ¥ã€‚ä½†å¦‚æœå¼•å…¥æœåŠ¡ç«¯ï¼Œä½ åªéœ€è¦è·ŸæœåŠ¡å™¨å»ºç«‹1ä¸ªè¿æ¥å°±å¤Ÿäº†ï¼ŒèŠå¤©è½¯ä»¶æ¶ˆè€—çš„èµ„æºè¶Šå°‘ï¼Œæ‰‹æœºå°±è¶Šçœç”µã€‚ 
- ç¬¬äºŒï¼Œå°±æ˜¯å®‰å…¨é—®é¢˜ï¼Œå¦‚æœè¿˜æ˜¯ä¸¤ç«¯é€šä¿¡ï¼Œéšä¾¿ä¸€ä¸ªäººæ‰¾ä½ å¯¹è´¦ä¸€ä¸‹ï¼Œä½ å°±æŠŠèŠå¤©è®°å½•ç»™åŒæ­¥è¿‡å»äº†ï¼Œè¿™å¹¶ä¸åˆé€‚å§ã€‚å¦‚æœå¯¹æ–¹åˆ«æœ‰ç”¨å¿ƒï¼Œä¿¡æ¯å°±æ³„éœ²äº†ã€‚å¼•å…¥ç¬¬ä¸‰æ–¹æœåŠ¡ç«¯å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„åšå„ç§é‰´æƒæ ¡éªŒã€‚ 
- ç¬¬ä¸‰ï¼Œæ˜¯è½¯ä»¶ç‰ˆæœ¬é—®é¢˜ã€‚è½¯ä»¶è£…åˆ°ç”¨æˆ·æ‰‹æœºä¹‹åï¼Œè½¯ä»¶æ›´ä¸æ›´æ–°å°±æ˜¯ç”±ç”¨æˆ·è¯´äº†ç®—äº†ã€‚å¦‚æœè¿˜æ˜¯ä¸¤ç«¯é€šä¿¡ï¼Œä¸”ä¸¤ç«¯çš„è½¯ä»¶ç‰ˆæœ¬è·¨åº¦å¤ªå¤§ï¼Œå¾ˆå®¹æ˜“äº§ç”Ÿå„ç§å…¼å®¹æ€§é—®é¢˜ï¼Œä½†å¼•å…¥ç¬¬ä¸‰ç«¯æœåŠ¡å™¨ï¼Œå°±å¯ä»¥å¼ºåˆ¶éƒ¨åˆ†è¿‡ä½ç‰ˆæœ¬å‡çº§ï¼Œå¦åˆ™ä¸èƒ½ä½¿ç”¨è½¯ä»¶ã€‚ä½†å¯¹äºå¤§éƒ¨åˆ†å…¼å®¹æ€§é—®é¢˜ï¼Œç»™æœåŠ¡ç«¯åŠ å…¼å®¹é€»è¾‘å°±å¥½äº†ï¼Œä¸éœ€è¦å¼ºåˆ¶ç”¨æˆ·æ›´æ–°è½¯ä»¶ã€‚ 
</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/09/10/%E8%AE%A1%E7%BD%91/tcp%E9%82%A3%E4%BA%9B%E4%BA%8B/%E4%B8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/09/10/%E8%AE%A1%E7%BD%91/tcp%E9%82%A3%E4%BA%9B%E4%BA%8B/%E4%B8%8B/" class="post-title-link" itemprop="url">ä¸‹</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-09-10 21:53:45 / ä¿®æ”¹æ—¶é—´ï¼š21:53:48" itemprop="dateCreated datePublished" datetime="2025-09-10T21:53:45+08:00">2025-09-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%BD%91/" itemprop="url" rel="index"><span itemprop="name">è®¡ç½‘</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%BD%91/tcp%E9%82%A3%E4%BA%9B%E4%BA%8B/" itemprop="url" rel="index"><span itemprop="name">tcpé‚£äº›äº‹</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/09/10/%E8%AE%A1%E7%BD%91/tcp%E9%82%A3%E4%BA%9B%E4%BA%8B/%E4%B8%8A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/09/10/%E8%AE%A1%E7%BD%91/tcp%E9%82%A3%E4%BA%9B%E4%BA%8B/%E4%B8%8A/" class="post-title-link" itemprop="url">ä¸Š</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-09-10 00:58:47" itemprop="dateCreated datePublished" datetime="2025-09-10T00:58:47+08:00">2025-09-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-18 16:14:37" itemprop="dateModified" datetime="2025-09-18T16:14:37+08:00">2025-09-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%BD%91/" itemprop="url" rel="index"><span itemprop="name">è®¡ç½‘</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%BD%91/tcp%E9%82%A3%E4%BA%9B%E4%BA%8B/" itemprop="url" rel="index"><span itemprop="name">tcpé‚£äº›äº‹</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="åºè¨€"><a href="#åºè¨€" class="headerlink" title="åºè¨€"></a>åºè¨€</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œç¨‹åºçš„æ•°æ®ä¸€èˆ¬éƒ½æ‰“åˆ°tcpçš„segementé‡Œï¼Œç„¶åæ‰“åˆ°IPçš„packetï¼Œå†åˆ°è¾¾ä»¥å¤ªç½‘çš„frame(å¸§)</p>
<p>åå‘é€åˆ°å¯¹ç«¯</p>
<p>:::color4</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://coolshell.cn/articles/11564.html#TCP%E5%A4%B4%E6%A0%BC%E5%BC%8F"><font style="color:rgb(68, 68, 68);">TCPå¤´æ ¼å¼</font></a></li>
<li><a target="_blank" rel="noopener" href="https://coolshell.cn/articles/11564.html#TCP%E7%9A%84%E7%8A%B6%E6%80%81%E6%9C%BA"><font style="color:rgb(68, 68, 68);">TCPçš„çŠ¶æ€æœº</font></a></li>
<li><a target="_blank" rel="noopener" href="https://coolshell.cn/articles/11564.html#%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E4%B8%AD%E7%9A%84Sequence_Number"><font style="color:rgb(68, 68, 68);">æ•°æ®ä¼ è¾“ä¸­çš„Sequence Number</font></a></li>
<li><a target="_blank" rel="noopener" href="https://coolshell.cn/articles/11564.html#TCP%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6"><font style="color:rgb(68, 68, 68);">TCPé‡ä¼ æœºåˆ¶</font></a><ul>
<li><a target="_blank" rel="noopener" href="https://coolshell.cn/articles/11564.html#%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6"><font style="color:rgb(68, 68, 68);">è¶…æ—¶é‡ä¼ æœºåˆ¶</font></a></li>
<li><a target="_blank" rel="noopener" href="https://coolshell.cn/articles/11564.html#%E5%BF%AB%E9%80%9F%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6"><font style="color:rgb(68, 68, 68);">å¿«é€Ÿé‡ä¼ æœºåˆ¶</font></a></li>
<li><a target="_blank" rel="noopener" href="https://coolshell.cn/articles/11564.html#SACK_%E6%96%B9%E6%B3%95"><font style="color:rgb(68, 68, 68);">SACK æ–¹æ³•</font></a></li>
<li><a target="_blank" rel="noopener" href="https://coolshell.cn/articles/11564.html#Duplicate_SACK_%E2%80%93_%E9%87%8D%E5%A4%8D%E6%94%B6%E5%88%B0%E6%95%B0%E6%8D%AE%E7%9A%84%E9%97%AE%E9%A2%98"><font style="color:rgb(68, 68, 68);">Duplicate SACK â€“ é‡å¤æ”¶åˆ°æ•°æ®çš„é—®é¢˜</font></a></li>
</ul>
</li>
</ul>
<p>:::</p>
<h2 id="tcpå¤´æ ¼å¼"><a href="#tcpå¤´æ ¼å¼" class="headerlink" title="tcpå¤´æ ¼å¼"></a><font style="color:rgb(68, 68, 68);">tcpå¤´æ ¼å¼</font></h2><p><img src="/images/fce390061accfd69f126e0e76627e516.jpeg"></p>
<p>ä½ éœ€è¦æ³¨æ„è¿™ä¹ˆå‡ ä¸ªäº‹æƒ…</p>
<ul>
<li>tcpæ˜¯æ²¡æœ‰IPåœ°å€çš„ï¼Œé‚£æ˜¯IPå±‚çš„äº‹æƒ…</li>
<li>tcpéœ€è¦ä¸€ä¸ªå››å…ƒç»„æ¥æ ‡æ˜æ˜¯ä¸€ä¸ªè¿æ¥ï¼ˆæºç«¯å£ï¼ŒæºIPï¼Œç›®æ ‡ç«¯å£ï¼Œç›®æ ‡IPï¼‰å½“ç„¶è¿˜éœ€è¦ä¸€ä¸ªåè®®</li>
<li>å››ä¸ªé‡è¦çš„ä¸œè¥¿<br>1.seq numï¼šåŒ…çš„åºå·ï¼Œç”¨æ¥è§£å†³ä¹±åºé—®é¢˜</li>
</ul>
<p>2.ack numï¼šç”¨äºç¡®è®¤æ”¶åˆ°ï¼Œè§£å†³ä¸ä¸¢åŒ…çš„é—®é¢˜<br>Â·    3.window æ»‘åŠ¨çª—å£ï¼Œç”¨äºè§£å†³æµæ§</p>
<p>4.tcp flag ä¸»è¦ç”¨æ¥æ“æ§tcpçš„çŠ¶æ€æœºçš„</p>
<h2 id="tcpçŠ¶æ€æœº"><a href="#tcpçŠ¶æ€æœº" class="headerlink" title="tcpçŠ¶æ€æœº"></a>tcpçŠ¶æ€æœº</h2><p>å…¶å®ï¼Œç½‘ç»œä¸Šçš„ä¼ è¾“æ˜¯æ²¡æœ‰è¿æ¥çš„ï¼ŒåŒ…æ‹¬TCPä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚è€ŒTCPæ‰€è°“çš„â€œè¿æ¥â€ï¼Œå…¶å®åªä¸è¿‡æ˜¯åœ¨é€šè®¯çš„åŒæ–¹ç»´æŠ¤ä¸€ä¸ªâ€œè¿æ¥çŠ¶æ€â€ï¼Œè®©å®ƒçœ‹ä¸Šå»å¥½åƒæœ‰è¿æ¥ä¸€æ ·ã€‚æ‰€ä»¥ï¼ŒTCPçš„çŠ¶æ€å˜æ¢æ˜¯éå¸¸é‡è¦çš„ã€‚</p>
<p><img src="/images/d9e2bf5558b471435d203b1d8f0aed0f.png"></p>
<p><img src="/images/f0dc0cf3e4aaaf34715e34b8dcea89fd.jpeg"></p>
<p>ä¸ºä»€ä¹ˆå»ºé“¾æ¥è¦3æ¬¡æ¡æ‰‹ï¼Ÿ</p>
<p>synå³synchronize sequance number åŒæ­¥åºå·ä¹ˆï¼Œååºä¼ è¾“æ•°æ®éƒ½ä¼šåŸºäºè¿™ä¸ªåºå·ï¼Œé‚£ä¹ˆä¸‰æ¬¡çš„è¯ä½ æ¥æˆ‘å¾€</p>
<p>çš„è¯æ‰èƒ½çŸ¥æ ¹çŸ¥ä½</p>
<p>æ–­é“¾æ¥éœ€è¦4æ¬¡æŒ¥æ‰‹ï¼Ÿ</p>
<p>ä½ ä»”ç»†çœ‹å…¶å®åªæœ‰ä¸¤æ¬¡ï¼Œå› ä¸ºtcpæ˜¯å…¨åŒå·¥é€šä¿¡ï¼Œä¸¤æ¡é€šé“ï¼Œæ‰€ä»¥ï¼Œå‘é€æ–¹å’Œæ¥æ”¶æ–¹éƒ½éœ€è¦Finå’ŒAck</p>
<p>åªä¸è¿‡ï¼Œæœ‰ä¸€æ–¹æ˜¯è¢«åŠ¨çš„ï¼Œæ‰€ä»¥çœ‹ä¸Šå»å°±æˆäº†æ‰€è°“çš„4æ¬¡æŒ¥æ‰‹ã€‚å¦‚æœä¸¤è¾¹åŒæ—¶æ–­è¿æ¥ï¼Œé‚£å°±ä¼šå°±è¿›å…¥åˆ°</p>
<p>CLOSINGçŠ¶æ€ï¼Œç„¶ååˆ°è¾¾TIME_WAITçŠ¶æ€<br> 	<img src="/images/b2c6f48f627eda6ad66f1ebd87849cd4.png"></p>
<blockquote>
<ul>
<li><strong>å•å·¥é€šä¿¡ï¼ˆSimplexï¼‰</strong>ï¼šåªèƒ½å•æ–¹å‘ä¼ è¾“ï¼Œæ¯”å¦‚ç”µè§†å¹¿æ’­ï¼Œåªèƒ½ç”µè§†å°å‘ â†’ ç”¨æˆ·æ”¶ï¼Œç”¨æˆ·ä¸èƒ½å›ä¼ ã€‚</li>
<li><strong>åŠåŒå·¥é€šä¿¡ï¼ˆHalf Duplexï¼‰</strong>ï¼šå¯ä»¥åŒå‘ä¼ è¾“ï¼Œä½†<strong>ä¸èƒ½åŒæ—¶</strong>ï¼Œè¦è½®æµï¼Œæ¯”å¦‚å¯¹è®²æœºï¼Œâ€œä½ è¯´å®Œæˆ‘å†è¯´â€ã€‚</li>
<li><strong>å…¨åŒå·¥é€šä¿¡ï¼ˆFull Duplexï¼‰</strong>ï¼šå¯ä»¥åŒå‘åŒæ—¶è¿›è¡Œï¼Œæ¯”å¦‚ç”µè¯ã€ç°ä»£ä»¥å¤ªç½‘ã€‚</li>
</ul>
</blockquote>
<p>å¤šäº‹</p>
<ul>
<li>å»ºç«‹è¿æ¥æ—¶è¶…æ—¶äº†ã€‚Clientå‘å‡ºsynåï¼ŒServeræ¥å—åˆ°äº†ï¼Œå‘ç»™SYN-ACKåä½†è¿™æ—¶å€™Clientä¸‹çº¿äº†æ€ä¹ˆåŠï¼Ÿ</li>
</ul>
<p>é‚£ä¹ˆè¿™ä¸ªè¿æ¥å°±å¤„äºä¸€ä¸ªä¸­é—´çŠ¶æ€ï¼Œæ²¡æˆåŠŸä¹Ÿæ²¡å¤±è´¥ã€‚æ”¶ä¸åˆ°Clientçš„ackä¸€æ®µæ—¶é—´ååœ¨Linuxä¸‹ï¼ŒServeré»˜è®¤ä¼šé‡‡ç”¨ä¸€ä¸ªé‡è¯•æªæ–½ï¼Œé»˜è®¤é‡è¯•æ¬¡æ•°ä¸º5æ¬¡ï¼Œé‡è¯•çš„é—´éš”æ—¶é—´ä»1så¼€å§‹æ¯æ¬¡éƒ½ç¿»å”®ï¼Œ5æ¬¡çš„é‡è¯•æ—¶é—´é—´éš”ä¸º1s, 2s, 4s, 8s, 16sï¼Œæ€»å…±31sï¼Œè€Œç¬¬5æ¬¡åå¾—ç­‰32ç§’æ‰èƒ½åœæ­¢ç­‰å¾…ï¼Œæ•…æ€»å…±æ˜¯63sï¼Œè¿™ä¸ªæ—¶å€™tcpæ‰ä¼šæ–­å¼€</p>
<ul>
<li>SYN Floodæ”»å‡»ã€‚åŸºäºä¸Šè¿°æƒ…å†µï¼Œå°±æœ‰äººåˆ©ç”¨è¿™ç§æœºåˆ¶ï¼Œæ¶æ„æ”»å‡»ä½ ï¼Œå‘ä¸€ä¸ªsynåï¼Œå®¢æˆ·ç«¯ä¸‹çº¿ï¼Œè®©ä½ çš„synè¿æ¥çš„é˜Ÿåˆ—è€—å°½ï¼ˆsyné˜Ÿåˆ—å°±æ˜¯å­˜æ”¾é‚£äº›åŠè¿æ¥çŠ¶æ€çš„è¿æ¥çš„ï¼‰ã€‚äºæ˜¯ï¼ŒLinuxä¸‹ç»™äº†ä¸€ä¸ªå«<strong>tcp_syncookies</strong>çš„å‚æ•°æ¥åº”å¯¹è¿™ä¸ªäº‹â€”â€”å½“SYNé˜Ÿåˆ—æ»¡äº†åï¼ŒTCPä¼šé€šè¿‡æºåœ°å€ç«¯å£ã€ç›®æ ‡åœ°å€ç«¯å£å’Œæ—¶é—´æˆ³æ‰“é€ å‡ºä¸€ä¸ªç‰¹åˆ«çš„Sequence Numberå‘å›å»ï¼ˆåˆå«cookieï¼‰ï¼Œå¦‚æœæ˜¯æ”»å‡»è€…åˆ™ä¸ä¼šæœ‰å“åº”ï¼Œå¦‚æœæ˜¯æ­£å¸¸è¿æ¥ï¼Œåˆ™ä¼šæŠŠè¿™ä¸ª SYN Cookieå‘å›æ¥ï¼Œç„¶å<strong>æœåŠ¡ç«¯å¯ä»¥é€šè¿‡cookieå»ºè¿æ¥ï¼ˆå³ä½¿ä½ ä¸åœ¨SYNé˜Ÿåˆ—ä¸­ï¼‰</strong>ã€‚è¯·æ³¨æ„ï¼Œè¯·å…ˆåƒä¸‡åˆ«ç”¨tcp_syncookiesæ¥å¤„ç†æ­£å¸¸çš„å¤§è´Ÿè½½çš„è¿æ¥çš„æƒ…å†µã€‚å› ä¸ºï¼Œsynccookiesæ˜¯<strong>å¦¥åç‰ˆçš„TCPåè®®</strong>ï¼Œå¹¶ä¸ä¸¥è°¨ã€‚å¯¹äºæ­£å¸¸çš„è¯·æ±‚ï¼Œä½ åº”è¯¥è°ƒæ•´ä¸‰ä¸ªTCPå‚æ•°å¯ä¾›ä½ é€‰æ‹©ï¼Œç¬¬ä¸€ä¸ªæ˜¯ï¼š<strong>tcp_synack_retries</strong> å¯ä»¥ç”¨ä»–æ¥<strong>å‡å°‘é‡è¯•æ¬¡æ•°</strong>ï¼›ç¬¬äºŒä¸ªæ˜¯ï¼š<strong>tcp_max_syn_backlog</strong>ï¼Œå¯ä»¥<strong>å¢å¤§SYNè¿æ¥æ•°</strong>ï¼›ç¬¬ä¸‰ä¸ªæ˜¯ï¼š<strong>tcp_abort_on_overflow</strong> <strong>å¤„ç†ä¸è¿‡æ¥å¹²è„†å°±ç›´æ¥æ‹’ç»è¿æ¥äº†</strong>ã€‚</li>
<li>å…³äºInital Sequence Numberã€‚å¹¶ä¸æ˜¯æ‰€æœ‰syn çš„èµ·å§‹å€¼éƒ½æ˜¯ä¸€æ ·çš„ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œé‚£å°±ä¹±å¥—äº†ã€‚é‚£æ˜¯è·Ÿä¸€ä¸ªå‡æ—¶é’Ÿç»‘å®šçš„ï¼Œæ¯å››å¾®å¦™++ï¼Œç›´åˆ°2çš„32æ¬¡æ–¹ï¼Œç„¶åå½’0ã€‚è¿™æ ·ï¼Œä¸€ä¸ªISNçš„å‘¨æœŸå¤§çº¦æ˜¯4.55ä¸ªå°æ—¶ã€‚å› ä¸ºï¼Œæˆ‘ä»¬å‡è®¾æˆ‘ä»¬çš„TCP Segmentåœ¨ç½‘ç»œä¸Šçš„å­˜æ´»æ—¶é—´ä¸ä¼šè¶…è¿‡<strong>Maximum Segment Lifetime</strong>ï¼ˆç¼©å†™ä¸ºMSL â€“ <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Maximum_Segment_Lifetime">Wikipediaè¯­æ¡</a>ï¼‰ï¼Œæ‰€ä»¥ï¼Œåªè¦MSLçš„å€¼å°äº4.55å°æ—¶ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å°±ä¸ä¼šé‡ç”¨åˆ°ISNï¼Œä¹Ÿå°±ä¸ä¼šå‡ºé”™</li>
<li>å…³äº MSL å’Œ TIME_WAITã€‚ä¸ºä»€ä¹ˆå…³é—­è¿æ¥çš„æ—¶å€™è¦æœ‰Time_waitï¼Ÿè€Œä¸æ˜¯ç›´æ¥å…³é—­ï¼Ÿè¿™ä¸»è¦æ˜¯ä¿è¯å¯¹ç«¯èƒ½æ¥å—åˆ°æˆ‘è¿™è¾¹å‘çš„ackï¼Œå¦‚æœè¢«åŠ¨å…³é—­çš„é‚£æ–¹æ²¡æœ‰æ”¶åˆ°Ackï¼Œå°±ä¼šè§¦å‘è¢«åŠ¨ç«¯é‡å‘Finï¼Œä¸€æ¥ä¸€å»æ­£å¥½2ä¸ªMSLï¼Œ2ï¼‰ä»¥åŠæœ‰è¶³å¤Ÿçš„æ—¶é—´è®©è¿™ä¸ªè¿æ¥ä¸ä¼šè·Ÿåé¢çš„è¿æ¥æ··åœ¨ä¸€èµ·ï¼ˆä½ è¦çŸ¥é“ï¼Œæœ‰äº›è‡ªåšä¸»å¼ çš„è·¯ç”±å™¨ä¼šç¼“å­˜IPæ•°æ®åŒ…ï¼Œå¦‚æœè¿æ¥è¢«é‡ç”¨äº†ï¼Œé‚£ä¹ˆè¿™äº›å»¶è¿Ÿæ”¶åˆ°çš„åŒ…å°±æœ‰å¯èƒ½ä¼šè·Ÿæ–°è¿æ¥æ··åœ¨ä¸€èµ·ï¼‰</li>
<li>å…³äºTIME_WAITæ•°é‡å¤ªå¤šã€‚è¿™åœ¨ä¸»è¦ä½“ç°åœ¨æœ‰å¤§é‡çŸ­è¿æ¥è¯·æ±‚ä¸‹ï¼ˆæ¯”å¦‚http1&#x2F;2ï¼‰ã€‚timewaitå¤ªå¤šæ˜¯ä¼šå æ®æ‰å¤§éƒ¨åˆ†èµ„æºçš„ã€‚ä½†ä½ å»ç½‘ä¸Šæœç›¸å…³æ•™ç¨‹ï¼Œå¤ªå¤šéƒ½ä¼šå»æ•™ä½ å»è°ƒä¸¤å‚æ•° tcp_tw_reuse,tcp_tw_recycleã€‚è¿™ä¸¤ä¸ªå‚æ•°é»˜è®¤éƒ½æ˜¯å…³é—­çš„ï¼Œä¸¤ä¸ªå‚æ•°æ¶‰åŠåˆ°çš„æœºåˆ¶éƒ½æ¯”è¾ƒæ¿€è¿›ã€‚</li>
<li>å…³äºtcp_tw_reuseï¼Œtcp_tw_recycleï¼Œtcp_max_tw_bucketsï¼ˆå¯¹æŠ—DDoSæ”»å‡»çš„ï¼‰å‚æ•°<br><img src="/images/5b4ed5569c3574452498af3641c68659.png"></li>
</ul>
<p>tcp_tw_resuse,tcp_tw_recycleå› ä¸ºè¿™ä¸¤ä¸ªå‚æ•°è¿åäº†TCPåè®®ã€‚</p>
<p> åœ¨ Linux 4.12 ç‰ˆæœ¬åè¢«å½»åº•ç§»é™¤  </p>
<p><img src="/images/42fae6a14bcf89a7d347e02f986a4327.png"></p>
<p>å…¶å®ï¼ŒTIME_WAITè¡¨ç¤ºçš„æ˜¯ä½ ä¸»åŠ¨æ–­è¿æ¥ï¼Œæ‰€ä»¥ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œä¸ä½œæ­»ä¸ä¼šæ­»â€ã€‚è¯•æƒ³ï¼Œå¦‚æœè®©å¯¹ç«¯æ–­è¿æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªç ´é—®é¢˜å°±æ˜¯å¯¹æ–¹çš„äº†ï¼Œå‘µå‘µã€‚å¦å¤–ï¼Œå¦‚æœä½ çš„æœåŠ¡å™¨æ˜¯äºHTTPæœåŠ¡å™¨ï¼Œé‚£ä¹ˆè®¾ç½®ä¸€ä¸ªHTTPçš„KeepAliveæœ‰å¤šé‡è¦ï¼ˆ<strong>æµè§ˆå™¨ä¼šé‡ç”¨ä¸€ä¸ªTCPè¿æ¥æ¥å¤„ç†å¤šä¸ªHTTPè¯·æ±‚</strong>ï¼‰ï¼Œç„¶åè®©å®¢æˆ·ç«¯å»æ–­é“¾æ¥ï¼ˆä½ è¦å°å¿ƒï¼Œæµè§ˆå™¨å¯èƒ½ä¼šéå¸¸è´ªå©ªï¼Œä»–ä»¬ä¸åˆ°ä¸‡ä¸å¾—å·²ä¸ä¼šä¸»åŠ¨æ–­è¿æ¥ï¼‰ã€‚</p>
<p><img src="/images/ffde9f830f9d545b3861119ce2a39cc7.png"></p>
<p><img src="/images/5a494cc2732450fd017fb7c69a62c0ae.png"> </p>
<h2 id="æ•°æ®ä¼ è¾“ä¸­çš„seq-num"><a href="#æ•°æ®ä¼ è¾“ä¸­çš„seq-num" class="headerlink" title="æ•°æ®ä¼ è¾“ä¸­çš„seq num"></a>æ•°æ®ä¼ è¾“ä¸­çš„seq num</h2><p><img src="/images/d6b2b3dd9568fbe1c02eb8ebce242b4c.jpeg"></p>
<p>SeqNumçš„å¢åŠ æ˜¯å’Œä¼ è¾“çš„å­—èŠ‚æ•°ç›¸å…³</p>
<p>ä¸Šå›¾ä¸­ï¼Œä¸‰æ¬¡æ¡æ‰‹åï¼Œæ¥äº†ä¸¤ä¸ªLen:1440çš„åŒ…ï¼Œè€Œç¬¬äºŒä¸ªåŒ…çš„SeqNumå°±æˆäº†1441ã€‚ç„¶åç¬¬ä¸€ä¸ªACKå›çš„æ˜¯</p>
<p>1441ï¼Œè¡¨ç¤ºç¬¬ä¸€ä¸ª1440æ”¶åˆ°äº†ã€‚</p>
<h2 id="tcpé‡ä¼ æœºåˆ¶"><a href="#tcpé‡ä¼ æœºåˆ¶" class="headerlink" title="tcpé‡ä¼ æœºåˆ¶"></a>tcpé‡ä¼ æœºåˆ¶</h2><p>tcpè¦ä¿è¯åŒ…éƒ½åˆ°è¾¾æ¥æ”¶æ–¹ï¼Œå°±å¾—æœ‰é‡ä¼ æœºåˆ¶</p>
<p><strong>æ¥æ”¶ç«¯ç»™å‘é€ç«¯çš„Ackç¡®è®¤åªä¼šç¡®è®¤æœ€åä¸€ä¸ªè¿ç»­çš„åŒ…ï¼Œå³éµå¾ªç´¯è®¡ç¡®è®¤åŸåˆ™</strong></p>
<p>PSï¼šack &#x3D; seq + 1 </p>
<p>æ¥æ”¶ç«¯æ”¶åˆ°äº†1 2 å¯ä»¥ å›ack &#x3D; 3</p>
<p>ä½†æ¥æ”¶ç«¯æ”¶åˆ°äº†1 2 4 è¿™æ—¶å€™å°±ä¸å¯ä»¥å› ack &#x3D; 5ã€‚ä¼šå†æ¬¡å‘é€ ack &#x3D; 3</p>
<p>è¿™æ—¶å€™å‘é€ç«¯å°±çŸ¥é“å¾—é‡ä¼ seq &#x3D; 3çš„åŒ…</p>
<p>ä¸è¿™æ ·çš„è¯ï¼Œå‘é€ç«¯å°±ä¼šä»¥ä¸ºä¹‹å‰çš„åŒ…éƒ½æ”¶åˆ°äº†</p>
<blockquote>
<h3 id="1-ç´¯ç§¯ç¡®è®¤æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-ç´¯ç§¯ç¡®è®¤æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1. ç´¯ç§¯ç¡®è®¤æ˜¯ä»€ä¹ˆï¼Ÿ"></a><strong>1. ç´¯ç§¯ç¡®è®¤æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h3><p><strong>â€œæ¥æ”¶ç«¯ç»™å‘é€ç«¯çš„ Ack ç¡®è®¤åªä¼šç¡®è®¤**<strong>æœ€åä¸€ä¸ªè¿ç»­çš„åŒ…</strong></strong>â€è¿™å¥è¯è§£é‡Šäº†ç´¯ç§¯ç¡®è®¤çš„ç²¾é«“ã€‚**</p>
<p>*<em>åœ¨ TCP ä¸­ï¼Œæ¥æ”¶ç«¯å‘å›çš„ <strong><strong>ACK æŠ¥æ–‡</strong></strong>ï¼ˆç¡®è®¤å·ï¼‰ä¸æ˜¯ç”¨æ¥ç¡®è®¤å•ä¸ªæ•°æ®åŒ…ï¼Œè€Œæ˜¯ç”¨æ¥å‘Šè¯‰å‘é€ç«¯ï¼šâ€œ<strong><strong>æˆ‘æ”¶åˆ°äº†åˆ°è¿™ä¸ªåºå·ä¸ºæ­¢çš„æ‰€æœ‰æ•°æ®ï¼Œä½ ä¸‹æ¬¡å¯ä»¥ä»è¿™ä¸ªåºå·å¼€å§‹å‘äº†ã€‚</strong></strong>â€</em>*</p>
<ul>
<li><strong>ä¾‹å­ï¼š</strong><ul>
<li><strong>å‘é€ç«¯å‘é€äº†æ•°æ®åŒ… 1ã€2ã€3ã€4ã€5ã€‚</strong></li>
<li><strong>æ¥æ”¶ç«¯æ”¶åˆ°äº† 1 å’Œ 2ã€‚</strong></li>
<li><strong>æ¥æ”¶ç«¯ä¼šå‘é€ä¸€ä¸ª ACK æŠ¥æ–‡ï¼Œå…¶ç¡®è®¤å·ä¸º <strong><strong>3</strong></strong>ã€‚è¿™è¡¨æ˜å®ƒæˆåŠŸæ”¶åˆ°äº†åºå· 1 å’Œ 2 çš„æ•°æ®ï¼Œå¹¶æœŸæœ›æ”¶åˆ°åºå·ä¸º 3 çš„æ•°æ®ã€‚</strong></li>
</ul>
</li>
</ul>
<h3 id="2-â€œæ”¶åˆ°äº†-4ï¼ˆæ³¨æ„æ­¤æ—¶-3-æ²¡æ”¶åˆ°ï¼‰ï¼Œæ­¤æ—¶çš„-TCP-ä¼šæ€ä¹ˆåŠï¼Ÿâ€"><a href="#2-â€œæ”¶åˆ°äº†-4ï¼ˆæ³¨æ„æ­¤æ—¶-3-æ²¡æ”¶åˆ°ï¼‰ï¼Œæ­¤æ—¶çš„-TCP-ä¼šæ€ä¹ˆåŠï¼Ÿâ€" class="headerlink" title="2. â€œæ”¶åˆ°äº† 4ï¼ˆæ³¨æ„æ­¤æ—¶ 3 æ²¡æ”¶åˆ°ï¼‰ï¼Œæ­¤æ—¶çš„ TCP ä¼šæ€ä¹ˆåŠï¼Ÿâ€"></a><strong>2. â€œæ”¶åˆ°äº† 4ï¼ˆæ³¨æ„æ­¤æ—¶ 3 æ²¡æ”¶åˆ°ï¼‰ï¼Œæ­¤æ—¶çš„ TCP ä¼šæ€ä¹ˆåŠï¼Ÿâ€</strong></h3><p><strong>è¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é—®é¢˜ï¼Œå®ƒå±•ç¤ºäº† TCP çš„<strong><strong>ä¹±åºå¤„ç†</strong></strong>èƒ½åŠ›ã€‚</strong></p>
<ul>
<li><strong>æ¥æ”¶ç«¯è¡Œä¸ºï¼š</strong><ul>
<li><strong>æ”¶åˆ°æ•°æ®åŒ… 1 å’Œ 2 åï¼Œå®ƒä¼šå‘é€ ACK 3ã€‚</strong></li>
<li><strong>æ¥ç€æ”¶åˆ°äº†æ•°æ®åŒ… 4ã€‚å› ä¸ºå®ƒæ²¡æœ‰æ”¶åˆ° 3ï¼Œæ‰€ä»¥ 4 æ˜¯ä¸€ä¸ª<strong><strong>ä¹±åº</strong></strong>çš„æ•°æ®åŒ…ã€‚</strong></li>
<li><strong>æ­¤æ—¶ï¼Œæ¥æ”¶ç«¯<strong><strong>ä¸èƒ½</strong></strong>å‘é€ ACK 5ï¼ˆå› ä¸º 3 æ²¡æ”¶åˆ°ï¼Œç¡®è®¤ä¸è¿ç»­ï¼‰ï¼Œå®ƒä¼š**<strong>å†æ¬¡å‘é€ ACK 3</strong></strong>ã€‚**</li>
</ul>
</li>
<li><strong>å‘é€ç«¯è¡Œä¸ºï¼š</strong><ul>
<li><strong>å‘é€ç«¯ä¸€å¼€å§‹å‘é€äº† 1ã€2ã€3ã€4ã€5ã€‚</strong></li>
<li><strong>å®ƒæ”¶åˆ°äº†æ¥æ”¶ç«¯å‘æ¥çš„ ACK 3ã€‚è¿™è¡¨ç¤º 1 å’Œ 2 å·²ç»åˆ°è¾¾ï¼Œå®ƒå¯ä»¥ç»§ç»­å‘é€æ›´å¤šæ•°æ®äº†ã€‚</strong></li>
<li><strong>ä½†æ˜¯ï¼Œå‘é€ç«¯å¾ˆå¿«åˆæ”¶åˆ°äº†**<strong>é‡å¤çš„ ACK 3</strong></strong>ã€‚å½“å®ƒæ”¶åˆ°<strong><strong>å¤šä¸ª</strong></strong>ï¼ˆé€šå¸¸æ˜¯ 3 ä¸ªï¼‰é‡å¤çš„ ACK æŠ¥æ–‡æ—¶ï¼Œå®ƒå°±çŸ¥é“åºå·ä¸º 3 çš„æ•°æ®åŒ…å¾ˆå¯èƒ½ä¸¢å¤±äº†ã€‚**</li>
<li><strong>è¿™æ—¶ï¼ŒTCP ä¼šè§¦å‘</strong>å¿«é€Ÿé‡ä¼ ï¼ˆFast Retransmitï¼‰<strong>æœºåˆ¶ï¼Œç«‹å³é‡æ–°å‘é€æ•°æ®åŒ… 3ï¼Œè€Œä¸éœ€è¦ç­‰åˆ°è¶…æ—¶åæ‰é‡ä¼ ã€‚</strong></li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="è¶…æ—¶é‡ä¼ æœºåˆ¶"><a href="#è¶…æ—¶é‡ä¼ æœºåˆ¶" class="headerlink" title="è¶…æ—¶é‡ä¼ æœºåˆ¶"></a><font style="color:rgb(33, 33, 33);">è¶…æ—¶é‡ä¼ æœºåˆ¶</font></h3><p>ä¸€ç§æ˜¯å¦‚æœå‘é€æ–¹æ­»ç­‰ä¸å›æ¥ ack &#x3D; 3ã€‚é‚£ä¹ˆè¿™æ—¶å€™å°±ä¼šè§¦å‘è¶…æ—¶é‡ä¼ ï¼Œä¸€æ—¦æ¥æ”¶æ–¹æ”¶åˆ°seq3ï¼Œå°±ä¼šå›ack&#x3D;4</p>
<p>é‚£ä¹ˆå‘é€æ–¹å°±çŸ¥é“3å’Œ4éƒ½æ”¶åˆ°äº†</p>
<p>ä½†æ˜¯è¿™ç§æ–¹å¼ä¹Ÿæœ‰æ¯”è¾ƒä¸¥é‡çš„é—®é¢˜ï¼Œå› ä¸ºä½ è¦æ­»ç­‰3,é‚£ä¹ˆ4,5çš„çŠ¶æ€å…¶å®æ˜¯ä¸å¾—çŸ¥çš„ã€‚è¿™æ—¶å€™tcpå¯èƒ½å°±ä¼šæ‚²è§‚</p>
<p>åœ°è®¤ä¸ºå®ƒä»¬éƒ½éœ€è¦é‡ä¼ </p>
<p>å¯¹æ­¤æœ‰ä¸¤ç§é€‰æ‹©</p>
<p>1.åªé‡ä¼ Timeoutçš„åŒ…ï¼Œå³ 3</p>
<p>2.é‡ä¼ timeoutåçš„æ‰€æœ‰åŒ…ï¼Œå³ 3 4 5 </p>
<p>ä¸¤ç§è¯´å¥½ä¸å¥½ï¼Œç¬¬ä¸€ç§èŠ‚çœå¸¦å®½ï¼Œä½†è´¹æ—¶ï¼Œç¬¬äºŒç§å¯èƒ½ä¼šåšæ— ç”¨å·¥ï¼Œä¸¤è€…éƒ½åœ¨ç­‰Timeoutã€‚PSï¼šè¿™ä¸ªtimeout</p>
<p>æ˜¯tcpåŠ¨æ€è®¡ç®—å‡ºæ¥çš„  </p>
<h3 id="å¿«é€Ÿé‡ä¼ æœºåˆ¶"><a href="#å¿«é€Ÿé‡ä¼ æœºåˆ¶" class="headerlink" title="å¿«é€Ÿé‡ä¼ æœºåˆ¶"></a>å¿«é€Ÿé‡ä¼ æœºåˆ¶</h3><p>ä¸ºäº†è§£å†³timeoutçš„é—®é¢˜ï¼Œtcpå°±å¼•å…¥äº†ä¸€ç§å¿«é€Ÿé‡ä¼ ç®—æ³•ï¼Œä¸ä»¥æ—¶é—´é©±åŠ¨ï¼Œè€Œæ˜¯ä»¥æ•°æ®é©±åŠ¨</p>
<p>ä¹Ÿå°±æ˜¯è¯´å¦‚æœåŒ…æ²¡æœ‰è¿ç»­åˆ°è¾¾çš„è¯ï¼Œå°±acké‚£ä¸ªæœ€åæœ‰å¯èƒ½ä¸¢å¤±çš„åŒ…ã€‚å¦‚æœå‘é€å‘æ¥å—åˆ°äº†ä¸‰æ¬¡ç›¸åŒçš„ackï¼Œ</p>
<p>å°±é‡ä¼ è¿™ä¸ªåŒ…ã€‚å¿«é€Ÿé‡ä¼ çš„å¥½å¤„å°±æ˜¯ ä¸ç”¨ç­‰å¾…è¶…æ—¶</p>
<p>æ¯”å¦‚ï¼šå¦‚æœå‘é€æ–¹å‘å‡ºäº†1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ä»½æ•°æ®ï¼Œç¬¬ä¸€ä»½å…ˆåˆ°é€äº†ï¼Œäºæ˜¯å°±ackå›2ï¼Œç»“æœ2å› ä¸ºæŸäº›åŸå› æ²¡æ”¶åˆ°ï¼Œ3åˆ°è¾¾äº†ï¼Œäºæ˜¯è¿˜æ˜¯ackå›2ï¼Œåé¢çš„4å’Œ5éƒ½åˆ°äº†ï¼Œä½†æ˜¯è¿˜æ˜¯ackå›2ï¼Œå› ä¸º2è¿˜æ˜¯æ²¡æœ‰æ”¶åˆ°ï¼Œäºæ˜¯å‘é€ç«¯æ”¶åˆ°äº†ä¸‰ä¸ªack&#x3D;2çš„ç¡®è®¤ï¼ŒçŸ¥é“äº†2è¿˜æ²¡æœ‰åˆ°ï¼Œäºæ˜¯å°±é©¬ä¸Šé‡è½¬2ã€‚ç„¶åï¼Œæ¥æ”¶ç«¯æ”¶åˆ°äº†2ï¼Œæ­¤æ—¶å› ä¸º3ï¼Œ4ï¼Œ5éƒ½æ”¶åˆ°äº†ï¼Œäºæ˜¯ackå›6ã€‚ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="/images/bb0909ee3350d690384a03120ea141c0.png"></p>
<p>Fast Retransmitåªè§£å†³äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯<strong>timeout</strong>çš„é—®é¢˜ï¼Œå®ƒä¾ç„¶é¢ä¸´ä¸€ä¸ªè‰°éš¾çš„é€‰æ‹©ï¼Œå°±æ˜¯ï¼Œæ˜¯é‡ä¼ ä¹‹å‰çš„ä¸€ä¸ªè¿˜æ˜¯é‡ä¼ æ‰€æœ‰çš„é—®é¢˜ã€‚å¯¹äºä¸Šé¢çš„ç¤ºä¾‹æ¥è¯´ï¼Œæ˜¯é‡ä¼ #2å‘¢è¿˜æ˜¯é‡ä¼ #2ï¼Œ#3ï¼Œ#4ï¼Œ#5å‘¢ï¼Ÿå› ä¸ºå‘é€ç«¯å¹¶ä¸æ¸…æ¥šè¿™è¿ç»­çš„3ä¸ªack(2)æ˜¯è°ä¼ å›æ¥çš„ï¼Ÿä¹Ÿè®¸å‘é€ç«¯å‘äº†20ä»½æ•°æ®ï¼Œæ˜¯#6ï¼Œ#10ï¼Œ#20ä¼ æ¥çš„å‘¢ã€‚è¿™æ ·ï¼Œå‘é€ç«¯å¾ˆæœ‰å¯èƒ½è¦é‡ä¼ ä»2åˆ°20çš„è¿™å †æ•°æ®ï¼ˆè¿™å°±æ˜¯æŸäº›TCPçš„å®é™…çš„å®ç°ï¼‰ã€‚å¯è§ï¼Œè¿™æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ã€‚</p>
<p>è¿˜æ˜¯æœ‰å¼Šç«¯ï¼Œå°±æ˜¯å‘é€å‘ä¸æ¸…æ¥šï¼Œåä¸¤æ¬¡æ˜¯è°å‘çš„ï¼Œå¦‚æœä¸¢çš„ä¸æ­¢ä¸€ä¸ªåŒ…å‘¢ã€‚</p>
<h3 id="SACKæœºåˆ¶"><a href="#SACKæœºåˆ¶" class="headerlink" title="SACKæœºåˆ¶"></a>SACKæœºåˆ¶</h3><p>è¿˜æœ‰æ›´å¥½çš„æ–¹å¼ï¼ŒSACK</p>
<p>Selective Acknowledgment </p>
<p>è¿™ä¸ªéœ€è¦å†tcpå¤´é‡Œæ·»åŠ ä¸€ä¸ªå­—æ®µï¼Œç”¨æ¥è®°å½• æ”¶åˆ°çš„ä¸è¿ç»­åŒ…å—</p>
<p>æ¯”å¦‚å‘é€ç«¯åªæ”¶åˆ°äº† 1 2 4 5 7 8 10</p>
<p><img src="/images/d41046cbd19d6218f4ed99265b1f45ce.png"></p>
<p><img src="/images/ebea7312bfda44db0c07f6a21618ad65.jpeg"></p>
<p>è¿™æ ·çš„è¯ï¼Œå‘é€ç«¯å°±çŸ¥é“å“ªäº›æ²¡åˆ°ï¼Œå“ªäº›åˆ°äº†ï¼Œé‚£ä¹ˆè¿™æ ·å°±å¯ä»¥å‡†ç¡®åœ°é‡ä¼ é‚£äº›æ²¡åˆ°äº†</p>
<p>å½“ç„¶è¿™ä¸ªåè®®éœ€è¦ä¸¤è¾¹éƒ½æ”¯æŒï¼Œåœ¨ Linuxä¸‹ï¼Œå¯ä»¥é€šè¿‡tcp_sackå‚æ•°æ‰“å¼€è¿™ä¸ªåŠŸèƒ½ï¼ˆLinux 2.4åé»˜è®¤æ‰“å¼€ï¼‰ã€‚</p>
<p>å½“è¿™è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œå³æ¥æ”¶æ–¹æœ‰æƒæŠŠå·²ç»æŠ¥ç»™å‘é€ç«¯SACKé‡Œçš„æ•°æ®ç»™ä¸¢äº†ï¼Œæ¯”å¦‚å†…å­˜ä¸å¤Ÿç”¨äº†</p>
<p><strong><font style="color:rgb(66, 66, 66);">æ‰€ä»¥ï¼Œå‘é€æ–¹ä¹Ÿä¸èƒ½å®Œå…¨ä¾èµ–SACKï¼Œè¿˜æ˜¯è¦ä¾èµ–ACKï¼Œå¹¶ç»´æŠ¤Time-Outï¼Œå¦‚æœåç»­çš„ACKæ²¡æœ‰å¢é•¿ï¼Œé‚£ä¹ˆè¿˜æ˜¯è¦æŠŠSACKçš„ä¸œè¥¿é‡ä¼ ï¼Œå¦å¤–ï¼Œæ¥æ”¶ç«¯è¿™è¾¹æ°¸è¿œä¸èƒ½æŠŠSACKçš„åŒ…æ ‡è®°ä¸ºAckã€‚</font></strong></p>
<p>è€Œä¸”ç»´æŠ¤SACKæ˜¯ä¼šè€—å‘é€å‘èµ„æºçš„ï¼Œå¦‚æœä¸€ä¸ªæ”»å‡»è€…å‘é€ç»™å‘é€æ–¹å¾ˆå¤šè¿™ç§SACKï¼Œè®©å‘é€æ–¹é‡å‘ä¸€å †ä¸œè¥¿</p>
<h3 id="Duplicate-SACK-â€“-é‡å¤æ”¶åˆ°æ•°æ®çš„é—®é¢˜"><a href="#Duplicate-SACK-â€“-é‡å¤æ”¶åˆ°æ•°æ®çš„é—®é¢˜" class="headerlink" title="Duplicate SACK â€“ é‡å¤æ”¶åˆ°æ•°æ®çš„é—®é¢˜"></a><font style="color:rgb(33, 33, 33);">Duplicate SACK â€“ é‡å¤æ”¶åˆ°æ•°æ®çš„é—®é¢˜</font></h3><p>å…¶ä¸»è¦ä½¿ç”¨äº†SACKæ¥å‘Šè¯‰å‘é€æ–¹æœ‰å“ªäº›æ•°æ®è¢«é‡å¤æ¥æ”¶äº†  
 	</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/09/10/%E8%AE%A1%E7%BD%91/tcp%E9%82%A3%E4%BA%9B%E4%BA%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyoçš„è·¨æœºæˆ¿éƒ¨ç½²ã€åŒåŸåŒæ´»ã€å¼‚åœ°å¤šæ´»ã€9ä¸ª9é«˜å¯ç”¨åšå®¢yuqueç¬”è®°åŒæ­¥site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/09/10/%E8%AE%A1%E7%BD%91/tcp%E9%82%A3%E4%BA%9B%E4%BA%8B/" class="post-title-link" itemprop="url">tcpé‚£äº›äº‹</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-09-10 00:58:25 / ä¿®æ”¹æ—¶é—´ï¼š00:58:35" itemprop="dateCreated datePublished" datetime="2025-09-10T00:58:25+08:00">2025-09-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%BD%91/" itemprop="url" rel="index"><span itemprop="name">è®¡ç½‘</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="ä¸Šä¸€é¡µ" aria-label="ä¸Šä¸€é¡µ" href="/page/9/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/45/">45</a><a class="extend next" rel="next" title="ä¸‹ä¸€é¡µ" aria-label="ä¸‹ä¸€é¡µ" href="/page/11/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2019 â€“ 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">lkl</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/soyobat" class="github-corner" title="åœ¨ GitHub ä¸Šå…³æ³¨æˆ‘" aria-label="åœ¨ GitHub ä¸Šå…³æ³¨æˆ‘" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
