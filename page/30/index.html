<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.soyorin.online","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.26.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":10,"width":280,"onmobile":true},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":"mac","show_result":true},"fold":{"enable":false,"height":500},"language":false,"highlight_theme":"night eighties"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js" defer></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
<meta property="og:url" content="https://www.soyorin.online/page/30/index.html">
<meta property="og:site_name" content="soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="lkl">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="学习">
<meta property="article:tag" content="博客">
<meta property="article:tag" content="日常">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://www.soyorin.online/page/30/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/30/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>







  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">ε=(´ο｀*)))唉，学Java的这辈子有了</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-友链"><a href="/link/" rel="section"><i class="fas fa-link fa-fw"></i>友链</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="lkl"
      src="/images/boqi.jpg">
  <p class="site-author-name" itemprop="name">lkl</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">441</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">71</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/soyobat" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;soyobat" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/05/04/MySQL/%E4%BA%8B%E5%8A%A1/%E4%B8%BA%E4%BB%80%E4%B9%88RR%E4%B8%BA%E9%BB%98%E8%AE%A4%E7%9A%84%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/04/MySQL/%E4%BA%8B%E5%8A%A1/%E4%B8%BA%E4%BB%80%E4%B9%88RR%E4%B8%BA%E9%BB%98%E8%AE%A4%E7%9A%84%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/" class="post-title-link" itemprop="url">为什么RR为默认的事务隔离级别</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-05-04 02:28:50" itemprop="dateCreated datePublished" datetime="2025-05-04T02:28:50+08:00">2025-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-10-20 19:45:50" itemprop="dateModified" datetime="2025-10-20T19:45:50+08:00">2025-10-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/%E4%BA%8B%E5%8A%A1/" itemprop="url" rel="index"><span itemprop="name">事务</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>兼容老版本，</p>
<p><font style="color:rgb(0, 0, 0);">“MySQL选择RR作为默认隔离级别，核心考虑是保证主从复制的数据一致性。早期MySQL使用statement格式的binlog，如果采用RC隔离级别，并发事务的执行顺序差异可能导致主从数据不一致。RR级别通过GAP锁机制强制事务串行化，确保binlog回放结果与主库一致。虽然这牺牲了部分并发性能，但对于数据库集群的数据一致性保障是必要的设计权衡。”</font></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/05/04/MySQL/QPS%20%EF%BC%9F%E8%B0%83%E4%BC%98/MySQL%E6%80%A7%E8%83%BD%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/04/MySQL/QPS%20%EF%BC%9F%E8%B0%83%E4%BC%98/MySQL%E6%80%A7%E8%83%BD%EF%BC%9F/" class="post-title-link" itemprop="url">MySQL性能？</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-05-04 01:18:49" itemprop="dateCreated datePublished" datetime="2025-05-04T01:18:49+08:00">2025-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-05-12 14:02:16" itemprop="dateModified" datetime="2025-05-12T14:02:16+08:00">2025-05-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/QPS-%EF%BC%9F%E8%B0%83%E4%BC%98/" itemprop="url" rel="index"><span itemprop="name">QPS ？调优</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>TPS： 每秒钟系统处理的<strong>事务数量</strong></p>
<hr>
<p>MySQL5.5版本，普通8核16G的机器，一张100万的常规表，顺序写性能在2000tps，读性能的话，如果索引有效，tps在5000左右 </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/05/03/MySQL/%E6%A0%91%E9%AB%98%E8%AE%A1%E7%AE%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/03/MySQL/%E6%A0%91%E9%AB%98%E8%AE%A1%E7%AE%97/" class="post-title-link" itemprop="url">树高计算</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-05-03 19:02:22" itemprop="dateCreated datePublished" datetime="2025-05-03T19:02:22+08:00">2025-05-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-10-20 21:34:25" itemprop="dateModified" datetime="2025-10-20T21:34:25+08:00">2025-10-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>假设数据库每个数据记录的大小为400字节（50个bigint类型），而用于索引的键占8字节。三层树高（两层索引页，一层数据页）能放多少数据？ </p>
<p><img src="/images/7dec406f58211d8d94927e89ec397499.png"></p>
<p>页的大小为16k（实际会有其它信息占用大概200字节），这里按16k来算，非叶子节点中，一行记录包括索引的键和指向其它页号的指针（InnoDB指针占6字节），所以一行记录是8 + 6 &#x3D; 14字节 </p>
<p>每页可以包含的键数 &#x3D; 16384字节 &#x2F; 14字节 &#x3D; 1170 </p>
<p>每个数据记录400字节，那么一个数据页16k可以存放16384 &#x2F; 400 &#x3D; 40行数据 </p>
<p>那么两层b+树高则有1170个叶子节点（第一层为一个索引页根节点，然后第二层扩展出1170个数据页叶子节点）每个叶子节点能存放40行数据，即1170 * 40 &#x3D; 46800行记录 </p>
<p>那么三层b+树高则有1170 * 1170 &#x3D; 1368900 个叶子节点（第一层为一个索引页根节点，然后第二层扩展出1170个索引页叶子节点，然后第三层扩展出1170 * 1170个数据页叶子节点），每个叶子节点能存放40行数据，即 1368900 * 40 &#x3D; 54756000（五千万？！） </p>
<p>我们不是说三层树高是2000w数据吗，现在算怎么三层树高就能存5000w数据？实际上，2000w的那个数据是每行数据记录大小为1k计算得来的，也就是1024个字节，128个bigint，而我们不是每个表都会定义这么多字段，所以还得根据表的具体情况来计算，而且每个页都需要一定空间存放其它信息，每行也需要存放其它的信息，实际的话还需要考虑这些内存占用 </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/05/03/MySQL/QPS%20%EF%BC%9F%E8%B0%83%E4%BC%98/%E5%A6%82%E4%BD%95%E6%8F%90%E9%AB%98QPS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/03/MySQL/QPS%20%EF%BC%9F%E8%B0%83%E4%BC%98/%E5%A6%82%E4%BD%95%E6%8F%90%E9%AB%98QPS/" class="post-title-link" itemprop="url">如何提高QPS</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-05-03 19:01:12" itemprop="dateCreated datePublished" datetime="2025-05-03T19:01:12+08:00">2025-05-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-05-04 01:23:28" itemprop="dateModified" datetime="2025-05-04T01:23:28+08:00">2025-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/QPS-%EF%BC%9F%E8%B0%83%E4%BC%98/" itemprop="url" rel="index"><span itemprop="name">QPS ？调优</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>QPS：即每秒查询量</p>
<p>硬件优化</p>
<p>1.CPU</p>
<p>2.内存</p>
<p>3.磁盘 SSD</p>
<p>参数设置</p>
<p>1.InnoDB_buffer_pool_size</p>
<p>2.redo log buffer大小</p>
<p>3.连接数</p>
<p>业务层面</p>
<p>1.读写分离 </p>
<p>2.数据库分片</p>
<p>3.冷热分离</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/05/01/Spring/Spring%E4%BA%8B%E5%8A%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/01/Spring/Spring%E4%BA%8B%E5%8A%A1/" class="post-title-link" itemprop="url">Spring事务</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2025-05-01 01:17:55 / 修改时间：19:02:02" itemprop="dateCreated datePublished" datetime="2025-05-01T01:17:55+08:00">2025-05-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Spring/" itemprop="url" rel="index"><span itemprop="name">Spring</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>事务：一组操作的集合</p>
<h2 id="事务是怎么实现的"><a href="#事务是怎么实现的" class="headerlink" title="事务是怎么实现的"></a>事务是怎么实现的</h2><p>底层基于数据库事务和AOP来实现的。也就是说如果你数据库用的存储引擎不支持事务，那</p>
<p>Spring事务就肯定没有的。（声明式事务才会基于AOP，编程式事务只是基于数据库的事务）</p>
<p>首先它会对使用了@Transitional注解的Bean（怎么判断Bean上是否有的？类、或者父类、或者接口、或</p>
<p>者方法中有这个注解都可以），创建一个代理对象</p>
<p>当调用代理对象的方法时，就会去判断方法上是否加了@Transitional</p>
<p>如果是，那么就用事务管理器创建一个数据库连接</p>
<p>并且把其自动提交置为false，变为手动提交，这是Spring重要的一步，即把事务交给Spring管理</p>
<p>然后就会执行SQL</p>
<p>执行完当前方法后，就直接提交事务</p>
<p>如果有异常，且这个异常是要回滚的异常，就会回滚事务，如果不是就还是直接提交</p>
<p>Spring事务的隔离级别对应的就是数据库的事务隔离级别</p>
<p>Spring事务的传播行为是Spring自己来实现的，也是Spring事务中最复杂的地方</p>
<p>Spring事务的传播是基于数据库连接来做的，一个事务对应着一个数据库connection</p>
<h2 id="隔离级别"><a href="#隔离级别" class="headerlink" title="隔离级别"></a>隔离级别</h2><h2 id="传播机制"><a href="#传播机制" class="headerlink" title="传播机制"></a>传播机制</h2><h2 id="声明式"><a href="#声明式" class="headerlink" title="声明式"></a>声明式</h2><p>@Transitional</p>
<p>无侵入性，但粒度大，只支持方法级别</p>
<p><img src="/images/07442ebe4b61e64d59986002114c61f2.png"></p>
<h2 id="编程式"><a href="#编程式" class="headerlink" title="编程式"></a>编程式</h2><p>粒度小，可以避免Spring AOP失效的问题  </p>
<p>基于TransitionTemplate</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@Autowired</span><br><span class="line">private TransactionTemplate transactionTemplate;</span><br><span class="line">public void testTransaction() &#123;</span><br><span class="line"></span><br><span class="line">        transactionTemplate.execute(new TransactionCallbackWithoutResult() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            protected void doInTransactionWithoutResult(TransactionStatus transactionStatus) &#123;</span><br><span class="line"></span><br><span class="line">                try &#123;</span><br><span class="line"></span><br><span class="line">                    // ....  业务代码</span><br><span class="line">                &#125; catch (Exception e)&#123;</span><br><span class="line">                    //回滚</span><br><span class="line">                    transactionStatus.setRollbackOnly();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>基于TransitionManager</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@Autowired</span><br><span class="line">private PlatformTransactionManager transactionManager;</span><br><span class="line"></span><br><span class="line">public void testTransaction() &#123;</span><br><span class="line"></span><br><span class="line">  TransactionStatus status = transactionManager.getTransaction(new DefaultTransactionDefinition());</span><br><span class="line">          try &#123;</span><br><span class="line">               // ....  业务代码</span><br><span class="line">              transactionManager.commit(status);</span><br><span class="line">          &#125; catch (Exception e) &#123;</span><br><span class="line">              transactionManager.rollback(status);</span><br><span class="line">          &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="事务失效"><a href="#事务失效" class="headerlink" title="事务失效"></a>事务失效</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/hanjiaqian/article/details/120501741">spring 事务失效的 12 种场景_spring 截获duplicatekeyexception 不抛异常-CSDN博客</a></p>
<p>声明式失效的场景</p>
<p>方法访问权限不为public，因为方法要想被Spring代理，就必须是public</p>
<p>方法被final修饰，被final修饰意味着不能被重写。声明式事务使用了AOP，底层是用到jdk和cglib了动态代</p>
<p>理，都得通过重写重写方法去实现代理</p>
<p>方法内部调用时，没通过代理对象调用方法，而是通过this调用</p>
<p>Bean没被Spring所管理</p>
<p>多线程事务</p>
<p>表不支持事务</p>
<p>事务回滚不了的场景</p>
<p>错误的传播特性</p>
<p>自己捕获了异常，且不抛出</p>
<p>自定义异常</p>
<p>手动抛了别的异常，默认情况下不指定只会抛运行时异常</p>
<p>嵌套事务回滚多了</p>
<p><img src="/images/fed7de0cd186fd1246c5018028e8dfb8.png"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/04/30/MySQL/%E5%BC%95%E6%93%8E/InnoDB/InnoDB%E9%80%BB%E8%BE%91%E5%82%A8%E5%AD%98%E7%BB%93%E6%9E%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/04/30/MySQL/%E5%BC%95%E6%93%8E/InnoDB/InnoDB%E9%80%BB%E8%BE%91%E5%82%A8%E5%AD%98%E7%BB%93%E6%9E%84/" class="post-title-link" itemprop="url">InnoDB逻辑储存结构</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-04-30 01:05:19" itemprop="dateCreated datePublished" datetime="2025-04-30T01:05:19+08:00">2025-04-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-10-20 20:28:38" itemprop="dateModified" datetime="2025-10-20T20:28:38+08:00">2025-10-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/%E5%BC%95%E6%93%8E/" itemprop="url" rel="index"><span itemprop="name">引擎</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/%E5%BC%95%E6%93%8E/InnoDB/" itemprop="url" rel="index"><span itemprop="name">InnoDB</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>表空间——段——区——页——行 </p>
<p>表空间： </p>
<p>默认情况下InnoDB有一个共享表空间ibdata1，所有数据放入这个表空间，如果开启了innodb_file_per_table（默认ON），每张表都可以放到一个单独的表空间，但只把数据、索引和Insert Buffer Bitmap放入单独表空间，其它数据，如undo信息、插入缓冲索引页、事务信息，二次写缓冲等还是放共享表空间 </p>
<p>段： </p>
<p>表空间由各个段组成，数据段、索引段、回滚段等，数据段即B+树叶子节点，索引段即B+树非叶子节点。每个段开始时，先用32个页大小的碎片页存放数据，使用完这些碎片页，再去一个区一个区地申请内存，这保证了小段如undo这样的段可以省空间 </p>
<p>区： </p>
<p>区由连续的页组成，一个区固定是1MB，页默认16KB，即一个区有64个连续的页，InnoDB1.0.x引入压缩页，页的大小可以是2K、4K、8K，但不管怎么变，区都是1MB </p>
<p>页： </p>
<p>InnoDB磁盘最小的管理单位，默认16KB，InnoDB1.2.x开始可以更改默认大小innodb_page_size为4K、8K、16K，更改后，不得再次修改，除非mysqldump导入导出产生新的库 </p>
<p>常见的页类型： </p>
<p>数据页（B-tree Node） </p>
<p>undo页（undo Log Page） </p>
<p>系统页（System Page） </p>
<p>索引页（Index Page） </p>
<p>事务数据页（Transaction system Page） </p>
<p>插入缓冲位图页（Insert Buffer Bitmap） </p>
<p>插入缓冲空闲列表页（Insert Buffer Free List） </p>
<p>未压缩的二进制大对象页（Uncompresses BLOB Page） </p>
<p>压缩的二进制大对象页（compressed BLOB Page） </p>
<p>行： </p>
<p>行存储有四种格式，Redundant、Compact、Dynamic和Compressed。MySQL5.1开始默认使用Compact，MySQL5.7开始默认使用Dynamic </p>
<p>Compact： </p>
<table>
<thead>
<tr>
<th>变长字段长度列表</th>
<th>NULL标志位</th>
<th>记录头信息</th>
<th>row_id</th>
<th>trx_id</th>
<th>roll_ptr</th>
<th>列1数据</th>
<th>列2数据</th>
<th>……</th>
</tr>
</thead>
</table>
<p>变长字段长度列表：当数据表有变长字段时才出现，记录本行中各变长字段实际长度，当长度小于255时用1个字节表示，大于255时用2个字节表示，不会用3个字节，因为变长字段有长度限制，最多65535字节 </p>
<p>NULL标志位：当数据表存在允许NULL的字段时才出现，本行每个字段是否为null用0或1表示，同时必须是整数个字节大小，即不足8个bit位的高位补0 </p>
<p>记录头信息：存储一些信息，固定5个字节，如delete_mask，标识删除位；next_record下条记录的地址；record_type，记录类型，0为普通，1为B+树非叶子节点，2为最小记录，3为最大记录 </p>
<p>变长字段长度列表和NULL是逆序存储(方便寻址) </p>
<p>row_id：当建表时没指定主键时，选择第一个非空唯一索引当主键，如果没有，添加该列作为主键，6字节大小 </p>
<p>trx_id：事务id，这条数据是哪个事务生成的，6字节大小 </p>
<p>roll_ptr：上个版本的指针，7字节大小 </p>
<p>一个页最多有16KB，16384字节，而varchar(n)最多可以存储65533字节，那么一个页可能都放不了一条记录，这时就会行溢出，溢出的数据会放到“溢出页”中，原页会保留20个字节指向该溢出页的地址。 </p>
<p>Compressed和Dynamic行格式和Compact非常相似，主要是行溢出时的处理，这两个不会在原页保存数据，只用20字节指针指向溢出页，数据全在溢出页，而Compressed还会对BLOB、TEXT、VARCHAR这些大长度类型的数据进行zlib算法压缩 </p>
<p>varchar类型理论最多可以存放65535个字节，但实际上最多65533个字节： </p>
<p>除了TEXT、BLOBs这种大对象类型，其它所有列（不包括隐藏列和记录头信息）占用的字节长度加起来不能超过65535字节 </p>
<p>所以65535字节&gt;&#x3D;变长字段长度列表 + NULL标志位 + 各列长度 </p>
<p>当一列只有varchar时，需要占用2字节的变长字段长度列表 + 0或1的NULL标志位（看varchar允不允许为NULL）+ varchar长度 </p>
<p>所以最多varchar最多存储65533个字节（当varchar不允许为NULL时） </p>
<p>char和varchar？ </p>
<p>char存储固定长度字符串，最大长度255字节，当存储长度小于定义的长度时，MySQL在后面补空格（如果本身存储的字符串尾部就有空格，就会丢失空格信息！） </p>
<p>varchar存储可变字符串，读取速度相对更慢一点，因为需要先读长度，再读数据 </p>
<p>一般使用varchar存储较好，但考虑到极端情况，varchar因为长度可变，可能出现页分裂的情况 </p>
<p>如果是身份证号、订单号、国家编码等这些固定长度的，可以用char </p>
<p>如果是产品描述、用户地址、用户名称这种，可以用varchar </p>
<p>数据页结构： </p>
<p><img src="/images/32c5cae0388e244cb3ee6c5367397578.png"></p>
<p><img src="/images/ee4eb91f0155868d2a341fbfe63afb19.png"></p>
<p><img src="/images/93dbbaf7c75de055f738d789431be592.png"></p>
<p>采用链表的结构是让数据页之间不需要是物理上的连续的，而是逻辑上的连续。 </p>
<p>数据页中的记录按照「主键」顺序组成单向链表，单向链表的特点就是插入、删除非常方便，但是检索效率不高，最差的情况下需要遍历链表上的所有节点才能完成检索。 </p>
<p>因此，数据页中有一个页目录，起到记录的索引作用，就像我们书那样，针对书中内容的每个章节设立了一个目录，想看某个章节的时候，可以查看目录，快速找到对应的章节的页数，而数据页中的页目录就是为了能快速找到记录。 </p>
<p><img src="/images/d912261197bb5bd822ff0813fc5f40b2.png"></p>
<ul>
<li>将所有的记录划分成几个组，这些记录包括最小记录和最大记录，但不包括标记为“已删除”的记录； </li>
<li>每个记录组的最后一条记录就是组内最大的那条记录，并且最后一条记录的头信息中会存储该组一共有多少条记录，作为 n_owned 字段（上图中粉红色字段） </li>
<li>页目录用来存储每组最后一条记录的地址偏移量，这些地址偏移量会按照先后顺序存储起来，每组的地址偏移量也被称之为槽（slot），每个槽相当于指针指向了不同组的最后一个记录。</li>
</ul>
<p>从图可以看到，页目录就是由多个槽组成的，槽相当于分组记录的索引。然后，因为记录是按照「主键值」从小到大排序的，所以我们通过槽查找记录时，可以使用二分法快速定位要查询的记录在哪个槽（哪个记录分组），定位到槽后，再遍历槽内的所有记录，找到对应的记录，无需从最小记录开始遍历整个页中的记录链表。 </p>
<ul>
<li>第一个分组中的记录只能有 1 条记录； </li>
<li>最后一个分组中的记录条数范围只能在 1-8 条之间； </li>
<li>剩下的分组中记录条数范围只能在 4-8 条之间。</li>
</ul>
<p>索引： </p>
<p><img src="/images/7dec406f58211d8d94927e89ec397499.png"></p>
<p>索引页的行记录是指针，指向一个页，索引页的索引键值就是指向的页的最小索引键值 </p>
<p>数据页的行记录就是数据（聚簇索引，如果是二级索引，存放的是主键值） </p>
<p>页合并和页分裂： </p>
<p>页合并： </p>
<p>当一个数据页的使用率低于一定阈值（50%）时，MySQL 就会将该页与相邻的空闲页合并成一个页面。 </p>
<p>例如，数据页能存放7条数据，有两个相邻的数据页，一个存储 [1, 2, 3, 4]，另一个是[5, 6]。当删除4时，会检查本页，本页数据只有三条，小于阈值，MySQL 就会将两个页面合并成一个页面，存储的数据变成 [1, 2, 3, 5, 6] </p>
<p>页分裂： </p>
<p>当一个数据页已经满了，而有新的数据要插入到该页时，MySQL 就会进行页分裂操作。 </p>
<p>例如，数据页能存放5条数据，假设一个数据页已经存储了 [1, 2, 3, 4, 5]，而有新的数据6要插入到该页中，MySQL 就会将该页拆分为两个页面，一个页面存储 [1, 2, 3]，另一个页面存储 [4, 5, 6]。 </p>
<p>页分裂是为了保证插入顺序的同时不大量挪动数据 </p>
<p>采用逻辑删除可以减少页合并 </p>
<p>采用批量顺序插入可以减少页分裂 </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/04/29/MySQL/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%89%E8%8C%83%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/04/29/MySQL/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%89%E8%8C%83%E5%BC%8F/" class="post-title-link" itemprop="url">数据库三范式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-04-29 22:14:51" itemprop="dateCreated datePublished" datetime="2025-04-29T22:14:51+08:00">2025-04-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-10-20 21:34:20" itemprop="dateModified" datetime="2025-10-20T21:34:20+08:00">2025-10-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>简单地说就是 一个字段干一个字段该干的事，一张表干一张表该干的事</p>
<p>第一范式：每个属性不能再拆，例如地址需要拆成省、市、区、街道、小区等等多个字段才满足第一范式，否则如果是长文本的话，不满足第一范式 </p>
<p>第二范式：所有信息必须直接和整个主键相关，不能只依赖不分主键（比如只依赖联合索引的部分），比如【（订单号，包裹号），收件人，包裹内容，收件人电话】，这里面（订单号，包裹号）是主键，而收件人和电话其实只依赖订单号，而不依赖包裹号，所以不满足第二范式 </p>
<p>第三范式：非主键外的字段互不依赖，比如【订单号，收件人，驿站编号，驿站地址】，这里面驿站地址依赖的其实是驿站编号，而不是直接依赖订单号，所以不满足第三范式 </p>
<p>满足范式的好处： </p>
<p>减少数据冗余 </p>
<p>增强数据一致性 </p>
<p>数据易于维护 </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/04/29/JUC/BlockingQueue/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/04/29/JUC/BlockingQueue/" class="post-title-link" itemprop="url">BlockingQueue</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-04-29 03:37:15" itemprop="dateCreated datePublished" datetime="2025-04-29T03:37:15+08:00">2025-04-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-05-19 23:43:33" itemprop="dateModified" datetime="2025-05-19T23:43:33+08:00">2025-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/JUC/" itemprop="url" rel="index"><span itemprop="name">JUC</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="blockingQueue"><a href="#blockingQueue" class="headerlink" title="blockingQueue"></a>blockingQueue</h2><p>一Java接口，它代表了Java中线程安全的队列，不仅可以多线程地访问元素，还添加了等待-通知机制，</p>
<p>可以实现在阻塞等待取元素，阻塞等待插入元素</p>
<p><img src="/images/56b35567b2e21d94a020adb8ea76f7d6.png"></p>
<p><img src="/images/cbb50d2d968e4e2512c7efdd0da3afdf.png"></p>
<p>boolean add(E e) ：将元素添加到队列尾部，如果队列满了，则抛出异常 IllegalStateException。 </p>
<p>boolean offer(E e)：将元素添加到队列尾部，如果队列满了，则返回 false。 </p>
<p>void put(E e)：将元素添加到队列尾部，如果队列满了，则线程将阻塞直到有空间。 </p>
<p>offer(E e, long timeout, TimeUnit unit)：将指定的元素插入此队列中，如果队列满了，则等待指定的时间，直到队列可用。 </p>
<p>take()：检索并删除此队列的头部，如有必要，则等待直到队列可用； 一般会上锁保证只有一个线程take到头部 </p>
<p>poll(long timeout, TimeUnit unit)：检索并删除此队列的头部，如果需要元素变得可用，则等待指定的等待时间。 </p>
<p>boolean remove(Object o)：从队列中删除元素，成功返回true，失败返回false </p>
<p>E poll()：检索并删除此队列的头部，如果此队列为空，则返回null。 </p>
<p>E element()：检索但不删除此队列的头部，如果队列为空时则抛出 NoSuchElementException 异常； </p>
<p>peek()：检索但不删除此队列的头部，如果此队列为空，则返回 null. </p>
<h2 id="blockingDequeue"><a href="#blockingDequeue" class="headerlink" title="blockingDequeue"></a>blockingDequeue</h2><p>双端阻塞队列，继承于blockingQueue，可以想使用blockingQueue的API一样使用它</p>
<p><img src="/images/115e733d9f8c2d514dae32cfc8601735.png"></p>
<p><img src="/images/c49a0dc81f2207d7e4b768c20bcb50ca.png"></p>
<h2 id="ArrayBlockingQueue"><a href="#ArrayBlockingQueue" class="headerlink" title="ArrayBlockingQueue"></a>ArrayBlockingQueue</h2><p>数组阻塞队列，有界的，且因为是基于静态数组实现的，一旦初始化，数组大小无法修改，且必须在构造时</p>
<p>初始化。</p>
<p>FIFO：队列操作符合先进先出</p>
<p>ArrayBlockingQueue并不能保证绝对的公平，即先到先得，因为还有线程调度的存在。想要保证绝对的公平</p>
<p>，可以在构造时置 fair&#x3D;true  </p>
<p>并发控制基于ReentrantLock和对应的Condition实现，读和写都得先获取锁。</p>
<h2 id="LinkedBlockingQueue"><a href="#LinkedBlockingQueue" class="headerlink" title="LinkedBlockingQueue"></a><font style="color:rgb(0, 0, 0);">LinkedBlockingQueue</font></h2><p>基于链表实现的线程安全的阻塞队列</p>
<p>可实现头部和尾部的高效插入</p>
<p>可在构造时指定最大容量，若没指定，即为Integer.MAX_VALUE，即受限于内存大小，但还是有界的</p>
<h2 id="LinkedBlockingQueue和ArrayBlockingQueue的区别"><a href="#LinkedBlockingQueue和ArrayBlockingQueue的区别" class="headerlink" title="LinkedBlockingQueue和ArrayBlockingQueue的区别"></a>LinkedBlockingQueue和ArrayBlockingQueue的区别</h2><p>相同点：</p>
<p>都是通过从condition通知机制来实现可阻塞的插入和获取</p>
<p>不同点：</p>
<p>1.一个基于链表，一个基于数组</p>
<p>2.ArrayBlockingQueue读和写都是一把锁，而LinkedBlockingQueue读和写两把锁，锁的粒度更小</p>
<h2 id="PriorityBlockingQueue"><a href="#PriorityBlockingQueue" class="headerlink" title="PriorityBlockingQueue "></a><font style="color:rgb(44, 62, 80);">PriorityBlockingQueue </font></h2><p>具有优先级特性的无界队列，元素在队列里面的排序基于自然的排序，或者我们实现Compare接口来实现自</p>
<p>定义排序，适用于根据优先级来执行任务</p>
<h2 id="SynchronousQueue"><a href="#SynchronousQueue" class="headerlink" title="SynchronousQueue "></a><font style="color:rgb(44, 62, 80);">SynchronousQueue </font></h2><h2 id="LinkedTransferQueue"><a href="#LinkedTransferQueue" class="headerlink" title="LinkedTransferQueue "></a><font style="color:rgb(44, 62, 80);">LinkedTransferQueue </font></h2><h2 id="DelayQueue"><a href="#DelayQueue" class="headerlink" title="DelayQueue"></a><font style="color:rgb(0, 0, 0);">DelayQueue</font></h2><p>延迟队列</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/04/28/JUC/AQS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/04/28/JUC/AQS/" class="post-title-link" itemprop="url">AQS</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-04-28 14:05:01" itemprop="dateCreated datePublished" datetime="2025-04-28T14:05:01+08:00">2025-04-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-05-03 01:41:24" itemprop="dateModified" datetime="2025-05-03T01:41:24+08:00">2025-05-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/JUC/" itemprop="url" rel="index"><span itemprop="name">JUC</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="是什么？"><a href="#是什么？" class="headerlink" title="是什么？"></a>是什么？</h2><p>AbstractQueueSynchronized 抽象队列同步器。是Java并发编程整个体系的基石，是用来构建锁或者同步组件的基础框架。它通过FIFO队列来实现线程获取资源的排队工作，并通过一个int变量来表示锁的获取状态</p>
<p>锁和同步器的关系</p>
<p>锁是面向锁的使用者，你调用就好了</p>
<p>同步器是面向锁的实现者，比如说你开发的时候需要自定义锁，而同步器可以为你提供实现锁的框架，帮你简化了实现，比如你不用去关心同步状态管理，阻塞队列的排队情况等等</p>
<h2 id="AQS的独占模式和共享模式？"><a href="#AQS的独占模式和共享模式？" class="headerlink" title="AQS的独占模式和共享模式？"></a>AQS的独占模式和共享模式？</h2><p>独占意味着同一时刻只有一个线程可以获取同步状态，是互斥锁的基础</p>
<p>共享意味着多个线程可以同时获取同步状态，如 信号量，<font style="color:rgb(51, 51, 51);">ReadWriteLock</font></p>
<h2 id="同步队列"><a href="#同步队列" class="headerlink" title="同步队列"></a>同步队列</h2><p>FIFO虚拟双向队列，是CLH队列的变种</p>
<p><img src="/images/50b2e21791cc0ae9fed691d31656ef7c.png"></p>
<p>想要加锁失败后导致阻塞，阻塞就得排队，那么排队就得有队列</p>
<p>如果资源被占用，那么就得有一定的线程阻塞等待唤醒机制来保证锁的分配。FIFO</p>
<h2 id="AQS为什么采用双向链表？"><a href="#AQS为什么采用双向链表？" class="headerlink" title="AQS为什么采用双向链表？"></a>AQS为什么采用双向链表？</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//基本结构</span><br><span class="line">    class Node&#123;</span><br><span class="line">        Node pre;</span><br><span class="line">        Node next;</span><br><span class="line">        Thread thread;</span><br><span class="line">        ......</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>双向链表有两个指针，一个指向前驱节点，一个指向后驱节点</p>
<p>需要前驱节点：</p>
<p>能够实现常量级别的前驱节点查找，增删操作比单向链表更加高效和简单。</p>
<p>AQS在设计的时候为了去避免有线程节点因为异常而导致后置的节点无法被正确唤醒的情况，所以<strong>线程节点</strong></p>
<p><strong>在入队的时候都会去判断前置节点的状态</strong>，如果这时候没有前驱指针的话，那找到前驱节点就得从头开始遍历</p>
<p>了。</p>
<p><img src="/images/b713a229edc80a44c370505f474cbe6e.png"></p>
<p>Lock接口里有个lockInterrupt方法，该方法就是说允许加入到阻塞队列里的线程节点被外部所中断。当阻塞队列里的线程被中断后，当线程节点并不会被立马删除，而是会被标记为cancelled状态，然后从尾节点找到离cancelled节点最近的正常节点进行唤醒。同样如果没有前置节点的话，得一个个往下遍历，查询性能很低</p>
<p><img src="/images/3486592b3e846cc68b28bdd5e7292091.png"></p>
<p>按照公平锁的设计，只有头结点的下一个节点才有必要去竞争锁。那么这里就涉及一个前置节点的判断，这个</p>
<p>是单向链表无法实现的。</p>
<p>总的来说就是存在需要高效查找前置节点的需求</p>
<p>ps：上面说的线程节点被外部中断后不会立马删除，那啥时候删除呢<br>	<img src="/images/568a72d040214f5aa3a8e5933cf71fd4.png"></p>
<h2 id="为什么上面说要从尾节点向前遍历，不可以头节点向后遍历？"><a href="#为什么上面说要从尾节点向前遍历，不可以头节点向后遍历？" class="headerlink" title="为什么上面说要从尾节点向前遍历，不可以头节点向后遍历？"></a>为什么上面说要从尾节点向前遍历，不可以头节点向后遍历？</h2><p>这个官网没说这么做的原因，网上也没人提为啥这么干。我当时是觉得这样可以减少对头部节点的竞争。因为在高并发情况下，头结点一定是被频繁访问or修改最大的节点，因为头节点是释放锁or被唤醒的首选位置。从尾结点向前遍历就可以减少在头结点上的竞争。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.soyorin.online/2025/04/28/%E9%A1%B9%E7%9B%AE/AI%E5%AD%A6%E7%94%9F%E5%8F%91%E5%B1%95%E6%80%A7%E8%AF%84%E4%BB%B7%E7%B3%BB%E7%BB%9F/EasyExcel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/boqi.jpg">
      <meta itemprop="name" content="lkl">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | soyo的跨机房部署、同城双活、异地多活、9个9高可用博客yuque笔记同步site">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/04/28/%E9%A1%B9%E7%9B%AE/AI%E5%AD%A6%E7%94%9F%E5%8F%91%E5%B1%95%E6%80%A7%E8%AF%84%E4%BB%B7%E7%B3%BB%E7%BB%9F/EasyExcel/" class="post-title-link" itemprop="url">EasyExcel</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-04-28 13:02:51" itemprop="dateCreated datePublished" datetime="2025-04-28T13:02:51+08:00">2025-04-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-06-03 14:57:14" itemprop="dateModified" datetime="2025-06-03T14:57:14+08:00">2025-06-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">项目</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%A1%B9%E7%9B%AE/AI%E5%AD%A6%E7%94%9F%E5%8F%91%E5%B1%95%E6%80%A7%E8%AF%84%E4%BB%B7%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index"><span itemprop="name">AI学生发展性评价系统</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="百万Excel数据导出如何实现"><a href="#百万Excel数据导出如何实现" class="headerlink" title="百万Excel数据导出如何实现"></a>百万Excel数据导出如何实现</h2><p>查询数据时分页查，写入多个sheet页</p>
<p>看多线程</p>
<p>导出慢的话，改成异步，用户不需要等待，生成完成，用户点击按钮下载即可</p>
<h2 id="百万Excel数据导入如何实现"><a href="#百万Excel数据导入如何实现" class="headerlink" title="百万Excel数据导入如何实现"></a>百万Excel数据导入如何实现</h2><p>Easy Excel基于事件流，一行一行读</p>
<p>内存占留的记录也不要太多，分批插入数据库</p>
<p>使用 <code>.csv</code> 文件代替 <code>.xlsx</code>：CSV 文件结构简单，解析更快，占内存更小</p>
<p> 避免一次上传过大的 Excel（分批上传）  </p>
<p>异步上传，先保存到对象存储服务器，消费者根据实际情况拉取进行处理</p>
<h2 id="读多个sheet页？"><a href="#读多个sheet页？" class="headerlink" title="读多个sheet页？"></a>读多个sheet页？</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;your_excel_file.xlsx&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">ExcelReader</span> <span class="variable">excelReader</span> <span class="operator">=</span> EasyExcel.read(inputStream).build();</span><br><span class="line"></span><br><span class="line"><span class="type">ReadSheet</span> <span class="variable">sheet1</span> <span class="operator">=</span> EasyExcel.readSheet(<span class="number">0</span>)</span><br><span class="line">    .head(StudentData.class)</span><br><span class="line">    .registerReadListener(<span class="keyword">new</span> <span class="title class_">StudentDataListener</span>())</span><br><span class="line">    .build();</span><br><span class="line"></span><br><span class="line"><span class="type">ReadSheet</span> <span class="variable">sheet2</span> <span class="operator">=</span> EasyExcel.readSheet(<span class="number">1</span>)</span><br><span class="line">    .head(ScoreData.class)</span><br><span class="line">    .registerReadListener(<span class="keyword">new</span> <span class="title class_">ScoreDataListener</span>())</span><br><span class="line">    .build();</span><br><span class="line"></span><br><span class="line">excelReader.read(sheet1, sheet2);</span><br><span class="line"></span><br><span class="line">excelReader.finish();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="合并单元格"><a href="#合并单元格" class="headerlink" title="合并单元格"></a>合并单元格</h2><p><img src="/images/4ca7ae10727e6dfc842bce362d9d2ccc.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//定义一个Handler去继承CellWriteHandler 重写里面的afterSheetCreate</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterSheetCreate</span><span class="params">()</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"> EasyExcel.write(<span class="string">&quot;学生信息.xlsx&quot;</span>, StudentData.class)</span><br><span class="line">            .registerWriteHandler(<span class="keyword">new</span> <span class="title class_">MergeSameCellHandler</span>(<span class="number">0</span>)) <span class="comment">// 合并“班级”列（第0列）</span></span><br><span class="line">            .sheet(<span class="string">&quot;学生表&quot;</span>)</span><br><span class="line">            .doWrite(list);</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/29/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><span class="page-number current">30</span><a class="page-number" href="/page/31/">31</a><span class="space">&hellip;</span><a class="page-number" href="/page/45/">45</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/31/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2019 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">lkl</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/soyobat" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
